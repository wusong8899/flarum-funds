{"version":3,"file":"admin.js","sources":["../src/admin/components/WithdrawalManagementPage.tsx","../src/admin/index.ts"],"sourcesContent":["import app from 'flarum/admin/app';\nimport ExtensionPage from 'flarum/admin/components/ExtensionPage';\nimport Button from 'flarum/common/components/Button';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\nimport Stream from 'flarum/common/utils/Stream';\nimport dayjs from 'flarum/common/utils/dayjs';\nimport type Mithril from 'mithril';\n\ninterface WithdrawalPlatform {\n  id: number;\n  attributes: {\n    name: string;\n    createdAt: string;\n  };\n}\n\ninterface WithdrawalRequest {\n  id: number;\n  attributes: {\n    amount: number;\n    accountDetails: string;\n    status: string;\n    createdAt: string;\n  };\n  relationships: {\n    user: {\n      data: { id: number };\n    };\n    platform: {\n      data: { id: number };\n    };\n  };\n}\n\ninterface User {\n  id: number;\n  attributes: {\n    displayName: string;\n  };\n}\n\nexport default class WithdrawalManagementPage extends ExtensionPage {\n  private platforms: WithdrawalPlatform[] = [];\n  private requests: WithdrawalRequest[] = [];\n  private users: { [key: number]: User } = {};\n  private loading = true;\n  private newPlatformName = Stream('');\n  private submittingPlatform = false;\n\n  oninit(vnode: Mithril.VnodeDOM) {\n    super.oninit(vnode);\n    this.loadData();\n  }\n\n  content() {\n    if (this.loading) {\n      return <LoadingIndicator />;\n    }\n\n    return (\n      <div className=\"WithdrawalManagementPage\">\n        <div className=\"container\">\n          <h2>{app.translator.trans('withdrawal.admin.page.title')}</h2>\n          \n          {this.renderSettings()}\n          {this.renderPlatformManagement()}\n          {this.renderRequestManagement()}\n        </div>\n      </div>\n    );\n  }\n\n  private renderSettings(): Mithril.Children {\n    return (\n      <div className=\"WithdrawalManagementPage-section\">\n        <h3>{app.translator.trans('withdrawal.admin.settings.title')}</h3>\n        <div className=\"Form\">\n          <div className=\"Form-group\">\n            <label>{app.translator.trans('withdrawal.admin.settings.min_amount')}</label>\n            {this.buildSettingComponent({\n              type: 'number',\n              setting: 'withdrawal.min_amount',\n              placeholder: '0'\n            })}\n          </div>\n          \n          <div className=\"Form-group\">\n            <label>{app.translator.trans('withdrawal.admin.settings.max_amount')}</label>\n            {this.buildSettingComponent({\n              type: 'number',\n              setting: 'withdrawal.max_amount',\n              placeholder: '10000'\n            })}\n          </div>\n          \n          <div className=\"Form-group\">\n            <label>{app.translator.trans('withdrawal.admin.settings.fee')}</label>\n            {this.buildSettingComponent({\n              type: 'number',\n              setting: 'withdrawal.fee',\n              placeholder: '0'\n            })}\n          </div>\n          \n          <div className=\"Form-group\">\n            {this.submitButton()}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  private renderPlatformManagement(): Mithril.Children {\n    return (\n      <div className=\"WithdrawalManagementPage-section\">\n        <h3>{app.translator.trans('withdrawal.admin.platforms.title')}</h3>\n        \n        <div className=\"WithdrawalManagementPage-addPlatform\">\n          <div className=\"Form-group\">\n            <input\n              type=\"text\"\n              className=\"FormControl\"\n              placeholder={app.translator.trans('withdrawal.admin.platforms.add_placeholder')}\n              value={this.newPlatformName()}\n              oninput={(e: Event) => this.newPlatformName((e.target as HTMLInputElement).value)}\n            />\n            <Button\n              className=\"Button Button--primary\"\n              loading={this.submittingPlatform}\n              disabled={!this.newPlatformName()}\n              onclick={this.addPlatform.bind(this)}\n            >\n              {app.translator.trans('withdrawal.admin.platforms.add_button')}\n            </Button>\n          </div>\n        </div>\n\n        <div className=\"WithdrawalManagementPage-platformList\">\n          {this.platforms.length === 0 ? (\n            <p>{app.translator.trans('withdrawal.admin.platforms.empty')}</p>\n          ) : (\n            this.platforms.map((platform) => this.renderPlatform(platform))\n          )}\n        </div>\n      </div>\n    );\n  }\n\n  private renderPlatform(platform: WithdrawalPlatform): Mithril.Children {\n    return (\n      <div key={platform.id} className=\"WithdrawalPlatform\">\n        <span className=\"WithdrawalPlatform-name\">{platform.attributes.name}</span>\n        <span className=\"WithdrawalPlatform-date\">\n          {dayjs(platform.attributes.createdAt).format('YYYY-MM-DD')}\n        </span>\n        <Button\n          className=\"Button Button--danger\"\n          onclick={() => this.deletePlatform(platform)}\n        >\n          {app.translator.trans('withdrawal.admin.platforms.delete')}\n        </Button>\n      </div>\n    );\n  }\n\n  private renderRequestManagement(): Mithril.Children {\n    const pendingRequests = this.requests.filter(r => r.attributes.status === 'pending');\n    const processedRequests = this.requests.filter(r => r.attributes.status !== 'pending');\n\n    return (\n      <div className=\"WithdrawalManagementPage-section\">\n        <h3>{app.translator.trans('withdrawal.admin.requests.title')}</h3>\n        \n        <div className=\"WithdrawalManagementPage-pendingRequests\">\n          <h4>{app.translator.trans('withdrawal.admin.requests.pending_title')}</h4>\n          {pendingRequests.length === 0 ? (\n            <p>{app.translator.trans('withdrawal.admin.requests.no_pending')}</p>\n          ) : (\n            pendingRequests.map((request) => this.renderRequest(request, true))\n          )}\n        </div>\n\n        <div className=\"WithdrawalManagementPage-processedRequests\">\n          <h4>{app.translator.trans('withdrawal.admin.requests.processed_title')}</h4>\n          {processedRequests.length === 0 ? (\n            <p>{app.translator.trans('withdrawal.admin.requests.no_processed')}</p>\n          ) : (\n            processedRequests.map((request) => this.renderRequest(request, false))\n          )}\n        </div>\n      </div>\n    );\n  }\n\n  private renderRequest(request: WithdrawalRequest, showActions: boolean): Mithril.Children {\n    const user = this.users[request.relationships.user.data.id];\n    const platform = this.platforms.find(p => p.id == request.relationships.platform.data.id);\n    const statusClass = `status-${request.attributes.status}`;\n\n    return (\n      <div key={request.id} className={`WithdrawalRequest ${statusClass}`}>\n        <div className=\"WithdrawalRequest-info\">\n          <div className=\"WithdrawalRequest-user\">\n            <strong>{user?.attributes.displayName || 'Unknown User'}</strong>\n          </div>\n          <div className=\"WithdrawalRequest-details\">\n            <span className=\"amount\">${request.attributes.amount}</span>\n            <span className=\"platform\">{platform?.attributes.name}</span>\n            <span className=\"date\">{dayjs(request.attributes.createdAt).format('YYYY-MM-DD HH:mm')}</span>\n          </div>\n          <div className=\"WithdrawalRequest-account\">\n            <strong>{app.translator.trans('withdrawal.admin.requests.account_details')}:</strong>\n            <span>{request.attributes.accountDetails}</span>\n          </div>\n          <div className=\"WithdrawalRequest-status\">\n            <span className={`Badge Badge--${request.attributes.status}`}>\n              {app.translator.trans(`withdrawal.admin.requests.status.${request.attributes.status}`)}\n            </span>\n          </div>\n        </div>\n        \n        {showActions && (\n          <div className=\"WithdrawalRequest-actions\">\n            <Button\n              className=\"Button Button--primary\"\n              onclick={() => this.updateRequestStatus(request, 'approved')}\n            >\n              {app.translator.trans('withdrawal.admin.requests.approve')}\n            </Button>\n            <Button\n              className=\"Button Button--danger\"\n              onclick={() => this.updateRequestStatus(request, 'rejected')}\n            >\n              {app.translator.trans('withdrawal.admin.requests.reject')}\n            </Button>\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  private async addPlatform(): Promise<void> {\n    if (!this.newPlatformName() || this.submittingPlatform) return;\n\n    this.submittingPlatform = true;\n\n    try {\n      const data = {\n        type: 'withdrawal-platforms',\n        attributes: {\n          name: this.newPlatformName()\n        }\n      };\n\n      await app.store.createRecord('withdrawal-platforms').save(data);\n      \n      this.newPlatformName('');\n      await this.loadPlatforms();\n      \n      app.alerts.show({\n        type: 'success',\n        message: app.translator.trans('withdrawal.admin.platforms.add_success')\n      });\n    } catch (error) {\n      console.error('Error adding platform:', error);\n      app.alerts.show({\n        type: 'error',\n        message: app.translator.trans('withdrawal.admin.platforms.add_error')\n      });\n    } finally {\n      this.submittingPlatform = false;\n      m.redraw();\n    }\n  }\n\n  private async deletePlatform(platform: WithdrawalPlatform): Promise<void> {\n    if (!confirm(app.translator.trans('withdrawal.admin.platforms.delete_confirm', { name: platform.attributes.name }))) {\n      return;\n    }\n\n    try {\n      const record = app.store.getById('withdrawal-platforms', platform.id);\n      if (record) {\n        await record.delete();\n        await this.loadPlatforms();\n        \n        app.alerts.show({\n          type: 'success',\n          message: app.translator.trans('withdrawal.admin.platforms.delete_success')\n        });\n      }\n    } catch (error) {\n      console.error('Error deleting platform:', error);\n      app.alerts.show({\n        type: 'error',\n        message: app.translator.trans('withdrawal.admin.platforms.delete_error')\n      });\n    }\n  }\n\n  private async updateRequestStatus(request: WithdrawalRequest, status: string): Promise<void> {\n    try {\n      const record = app.store.getById('withdrawal-requests', request.id);\n      if (record) {\n        await record.save({ status });\n        await this.loadRequests();\n        \n        app.alerts.show({\n          type: 'success',\n          message: app.translator.trans(`withdrawal.admin.requests.${status}_success`)\n        });\n      }\n    } catch (error) {\n      console.error('Error updating request:', error);\n      app.alerts.show({\n        type: 'error',\n        message: app.translator.trans('withdrawal.admin.requests.update_error')\n      });\n    }\n  }\n\n  private async loadData(): Promise<void> {\n    try {\n      await Promise.all([\n        this.loadPlatforms(),\n        this.loadRequests()\n      ]);\n    } catch (error) {\n      console.error('Error loading data:', error);\n    } finally {\n      this.loading = false;\n      m.redraw();\n    }\n  }\n\n  private async loadPlatforms(): Promise<void> {\n    const response = await app.store.find('withdrawal-platforms');\n    this.platforms = Array.isArray(response) ? response : [response];\n  }\n\n  private async loadRequests(): Promise<void> {\n    const response = await app.store.find('withdrawal-requests');\n    this.requests = Array.isArray(response) ? response : [response];\n    \n    // Load user data for each request\n    const userIds = [...new Set(this.requests.map(r => r.relationships.user.data.id))];\n    for (const userId of userIds) {\n      if (!this.users[userId]) {\n        try {\n          const user = await app.store.find('users', userId);\n          this.users[userId] = user;\n        } catch (error) {\n          console.error(`Error loading user ${userId}:`, error);\n        }\n      }\n    }\n  }\n}","import app from 'flarum/admin/app';\nimport WithdrawalManagementPage from './components/WithdrawalManagementPage';\n\napp.initializers.add('wusong8899/flarum-withdrawal', () => {\n  app.extensionData\n    .for('wusong8899-flarum-withdrawal')\n    .registerPage(WithdrawalManagementPage);\n});"],"names":["WithdrawalManagementPage","ExtensionPage","Stream","vnode","LoadingIndicator","app","e","Button","platform","dayjs","pendingRequests","r","processedRequests","request","showActions","user","p","statusClass","data","error","record","status","response","userIds","userId"],"mappings":"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"}