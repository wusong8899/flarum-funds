{"version":3,"file":"admin.js","sources":["../src/admin/components/sections/GeneralSettingsSection.tsx","../src/common/utils/formValidators.ts","../src/admin/components/forms/AddPlatformForm.tsx","../src/admin/components/items/PlatformListItem.tsx","../src/admin/components/sections/PlatformManagementSection.tsx","../src/admin/components/items/WithdrawalRequestItem.tsx","../src/admin/components/sections/RequestManagementSection.tsx","../src/admin/components/forms/AddDepositPlatformForm.tsx","../src/admin/components/items/DepositPlatformListItem.tsx","../src/admin/components/items/DepositTransactionItem.tsx","../src/admin/components/sections/DepositManagementSection.tsx","../src/admin/components/items/NetworkTypeListItem.tsx","../src/admin/components/forms/AddNetworkTypeForm.tsx","../src/admin/components/sections/NetworkTypeManagementSection.tsx","../src/common/components/shared/ConfirmModal.tsx","../src/admin/components/WithdrawalManagementPage.tsx","../src/common/models/WithdrawalPlatform.ts","../src/common/types/index.ts","../src/common/models/WithdrawalRequest.ts","../src/common/models/DepositPlatform.ts","../src/common/models/DepositTransaction.ts","../src/common/models/NetworkType.ts","../src/admin/index.ts"],"sourcesContent":["import app from 'flarum/admin/app';\nimport Component from 'flarum/common/Component';\nimport withAttr from 'flarum/common/utils/withAttr';\nimport type Mithril from 'mithril';\n\nexport interface GeneralSettingsSectionAttrs {\n  onSettingChange: (key: string, value: string) => void;\n}\n\nexport default class GeneralSettingsSection extends Component<GeneralSettingsSectionAttrs> {\n  view(): Mithril.Children {\n    return (\n      <div className=\"WithdrawalManagementPage-section\">\n        <h3>General Settings</h3>\n        \n        <div className=\"Form\">\n          <div className=\"Form-group\">\n            <label>{app.translator.trans('withdrawal.admin.settings.money_icon_url')}</label>\n            <input\n              type=\"url\"\n              className=\"FormControl\"\n              placeholder=\"https://i.mji.rip/2025/08/28/cd18932c68e9bbee9502b1fb6317cba9.png\"\n              value={app.forum.attribute('wusong8899-withdrawal.moneyIconUrl') || ''}\n              oninput={withAttr('value', (value: string) => \n                this.attrs.onSettingChange('wusong8899-withdrawal.moneyIconUrl', value)\n              )}\n            />\n            <small className=\"helpText\">{app.translator.trans('withdrawal.admin.settings.money_icon_url_help')}</small>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}","import app from 'flarum/common/app';\r\n\r\nexport interface ValidationError {\r\n  field: string;\r\n  message: string;\r\n}\r\n\r\nexport interface ValidationResult {\r\n  isValid: boolean;\r\n  errors: ValidationError[];\r\n  firstErrorMessage?: string;\r\n}\r\n\r\n/**\r\n * 通用表单验证工具\r\n * 统一提款和存款平台表单的验证逻辑\r\n */\r\nexport class FormValidator {\r\n  private errors: ValidationError[] = [];\r\n\r\n  /**\r\n   * 验证必填字段\r\n   */\r\n  required(value: any, fieldName: string, displayName?: string): this {\r\n    if (!value || (typeof value === 'string' && value.trim() === '')) {\r\n      this.errors.push({\r\n        field: fieldName,\r\n        message: `${displayName || fieldName} is required`\r\n      });\r\n    }\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * 验证最小长度\r\n   */\r\n  minLength(value: string, minLength: number, fieldName: string, displayName?: string): this {\r\n    if (value && value.length < minLength) {\r\n      this.errors.push({\r\n        field: fieldName,\r\n        message: `${displayName || fieldName} must be at least ${minLength} characters`\r\n      });\r\n    }\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * 验证数字范围\r\n   */\r\n  numberRange(value: string | number, min?: number, max?: number, fieldName?: string, displayName?: string): this {\r\n    const numValue = typeof value === 'string' ? parseFloat(value) : value;\r\n    \r\n    if (isNaN(numValue)) {\r\n      this.errors.push({\r\n        field: fieldName || 'number',\r\n        message: `${displayName || 'Value'} must be a valid number`\r\n      });\r\n      return this;\r\n    }\r\n\r\n    if (min !== undefined && numValue < min) {\r\n      this.errors.push({\r\n        field: fieldName || 'number',\r\n        message: `${displayName || 'Value'} must be at least ${min}`\r\n      });\r\n    }\r\n\r\n    if (max !== undefined && numValue > max) {\r\n      this.errors.push({\r\n        field: fieldName || 'number',\r\n        message: `${displayName || 'Value'} must be at most ${max}`\r\n      });\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * 验证URL格式\r\n   */\r\n  url(value: string, fieldName: string, displayName?: string): this {\r\n    if (value && value.trim()) {\r\n      try {\r\n        const _url = new URL(value);\r\n        // URL is valid, no action needed\r\n        void _url; // Explicit void to indicate we don't need the result\r\n      } catch {\r\n        this.errors.push({\r\n          field: fieldName,\r\n          message: `${displayName || fieldName} must be a valid URL`\r\n        });\r\n      }\r\n    }\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * 自定义验证规则\r\n   */\r\n  custom(condition: boolean, fieldName: string, message: string): this {\r\n    if (!condition) {\r\n      this.errors.push({\r\n        field: fieldName,\r\n        message\r\n      });\r\n    }\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * 获取验证结果\r\n   */\r\n  getResult(): ValidationResult {\r\n    const isValid = this.errors.length === 0;\r\n    return {\r\n      isValid,\r\n      errors: this.errors,\r\n      firstErrorMessage: this.errors.length > 0 ? this.errors[0].message : undefined\r\n    };\r\n  }\r\n\r\n  /**\r\n   * 重置验证状态\r\n   */\r\n  reset(): this {\r\n    this.errors = [];\r\n    return this;\r\n  }\r\n}\r\n\r\n/**\r\n * 提款平台表单验证\r\n */\r\nexport function validateWithdrawalPlatform(data: {\r\n  name: string;\r\n  symbol: string;\r\n  network?: string;\r\n  minAmount: string;\r\n  maxAmount: string;\r\n  fee: string;\r\n  iconUrl?: string;\r\n}): ValidationResult {\r\n  const validator = new FormValidator();\r\n\r\n  validator\r\n    .required(data.name, 'name', 'Platform Name')\r\n    .required(data.symbol, 'symbol', 'Currency Symbol')\r\n    .minLength(data.symbol, 1, 'symbol', 'Currency Symbol')\r\n    .numberRange(data.minAmount, 0, undefined, 'minAmount', 'Minimum Amount')\r\n    .numberRange(data.fee, 0, undefined, 'fee', 'Fee');\r\n\r\n  if (data.maxAmount) {\r\n    validator.numberRange(data.maxAmount, parseFloat(data.minAmount) || 0, undefined, 'maxAmount', 'Maximum Amount');\r\n  }\r\n\r\n  if (data.iconUrl) {\r\n    validator.url(data.iconUrl, 'iconUrl', 'Icon URL');\r\n  }\r\n\r\n  return validator.getResult();\r\n}\r\n\r\n/**\r\n * 存款平台表单验证\r\n */\r\nexport function validateDepositPlatform(data: {\r\n  name: string;\r\n  symbol: string;\r\n  network?: string;\r\n  address: string;\r\n  minAmount: string;\r\n  maxAmount: string;\r\n  qrCodeImageUrl?: string;\r\n  iconUrl?: string;\r\n}): ValidationResult {\r\n  const validator = new FormValidator();\r\n\r\n  validator\r\n    .required(data.name, 'name', 'Platform Name')\r\n    .required(data.symbol, 'symbol', 'Currency Symbol')\r\n    .required(data.address, 'address', 'Deposit Address')\r\n    .minLength(data.symbol, 1, 'symbol', 'Currency Symbol')\r\n    .minLength(data.address, 10, 'address', 'Deposit Address');\r\n\r\n  if (data.minAmount) {\r\n    validator.numberRange(data.minAmount, 0, undefined, 'minAmount', 'Minimum Amount');\r\n  }\r\n\r\n  if (data.maxAmount) {\r\n    const minAmountNum = parseFloat(data.minAmount) || 0;\r\n    validator.numberRange(data.maxAmount, minAmountNum, undefined, 'maxAmount', 'Maximum Amount');\r\n  }\r\n\r\n  if (data.qrCodeImageUrl) {\r\n    validator.url(data.qrCodeImageUrl, 'qrCodeImageUrl', 'QR Code Image URL');\r\n  }\r\n\r\n  if (data.iconUrl) {\r\n    validator.url(data.iconUrl, 'iconUrl', 'Icon URL');\r\n  }\r\n\r\n  return validator.getResult();\r\n}\r\n\r\n/**\r\n * 显示验证错误警告\r\n */\r\nexport function showValidationErrors(result: ValidationResult): void {\r\n  if (!result.isValid && result.firstErrorMessage) {\r\n    app.alerts.show(\r\n      { type: 'error', dismissible: true },\r\n      result.firstErrorMessage\r\n    );\r\n  }\r\n}\r\n\r\n/**\r\n * 网络类型验证\r\n */\r\nexport function validateNetworkType(data: {\r\n  name: string;\r\n  code: string;\r\n  description?: string;\r\n  iconUrl?: string;\r\n  sortOrder?: string;\r\n}): ValidationResult {\r\n  const validator = new FormValidator();\r\n\r\n  validator\r\n    .required(data.name, 'name', 'Network Name')\r\n    .required(data.code, 'code', 'Network Code')\r\n    .minLength(data.code, 1, 'code', 'Network Code');\r\n\r\n  if (data.sortOrder) {\r\n    validator.numberRange(data.sortOrder, 0, 999, 'sortOrder', 'Sort Order');\r\n  }\r\n\r\n  if (data.iconUrl) {\r\n    validator.url(data.iconUrl, 'iconUrl', 'Icon URL');\r\n  }\r\n\r\n  return validator.getResult();\r\n}","import app from 'flarum/admin/app';\nimport Component from 'flarum/common/Component';\nimport Button from 'flarum/common/components/Button';\nimport Stream from 'flarum/common/utils/Stream';\nimport type Mithril from 'mithril';\nimport { PlatformFormData } from '../types/AdminTypes';\nimport { FormValidator } from '../../../common/utils/formValidators';\nimport m from 'mithril';\n\nexport interface AddPlatformFormAttrs {\n  onSubmit: (formData: PlatformFormData) => Promise<void>;\n  submitting: boolean;\n}\n\nexport default class AddPlatformForm extends Component<AddPlatformFormAttrs> {\n  private name = Stream('');\n  private symbol = Stream('');\n  private network = Stream('');\n  private minAmount = Stream('');\n  private maxAmount = Stream('');\n  private fee = Stream('');\n  private iconUrl = Stream('');\n  private iconClass = Stream('');\n\n  view(): Mithril.Children {\n    return (\n      <div className=\"WithdrawalManagementPage-addPlatform\">\n        <div className=\"Form-group\">\n          <div className=\"Form-row\">\n            <div className=\"Form-col\">\n              <label>{app.translator.trans('withdrawal.admin.platforms.name')}</label>\n              <input\n                type=\"text\"\n                className=\"FormControl\"\n                placeholder={app.translator.trans('withdrawal.admin.platforms.add_placeholder')}\n                bidi={this.name}\n              />\n            </div>\n            <div className=\"Form-col\">\n              <label>{app.translator.trans('withdrawal.admin.platforms.symbol')}</label>\n              <input\n                type=\"text\"\n                className=\"FormControl\"\n                placeholder=\"BTC, ETH, USDT...\"\n                bidi={this.symbol}\n              />\n            </div>\n            <div className=\"Form-col\">\n              <label>{app.translator.trans('withdrawal.admin.platforms.network')}</label>\n              <input\n                type=\"text\"\n                className=\"FormControl\"\n                placeholder=\"TRC20, ERC20, BSC... (optional)\"\n                bidi={this.network}\n              />\n              <small className=\"helpText\">{app.translator.trans('withdrawal.admin.platforms.network_help')}</small>\n            </div>\n          </div>\n          \n          <div className=\"Form-row\">\n            <div className=\"Form-col\">\n              <label>{app.translator.trans('withdrawal.admin.platforms.min_amount')}</label>\n              <input\n                type=\"number\"\n                step=\"0.00000001\"\n                className=\"FormControl\"\n                placeholder=\"0.001\"\n                bidi={this.minAmount}\n              />\n            </div>\n            <div className=\"Form-col\">\n              <label>{app.translator.trans('withdrawal.admin.platforms.max_amount')}</label>\n              <input\n                type=\"number\"\n                step=\"0.00000001\"\n                className=\"FormControl\"\n                placeholder=\"10.0\"\n                bidi={this.maxAmount}\n              />\n            </div>\n            <div className=\"Form-col\">\n              <label>{app.translator.trans('withdrawal.admin.platforms.fee')}</label>\n              <input\n                type=\"number\"\n                step=\"0.00000001\"\n                className=\"FormControl\"\n                placeholder=\"0.0005\"\n                bidi={this.fee}\n              />\n            </div>\n          </div>\n          \n          <div className=\"Form-row\">\n            <div className=\"Form-col\">\n              <label>{app.translator.trans('withdrawal.admin.platforms.icon_url')}</label>\n              <input\n                type=\"url\"\n                className=\"FormControl\"\n                placeholder=\"https://example.com/icon.png\"\n                bidi={this.iconUrl}\n              />\n              <small className=\"helpText\">{app.translator.trans('withdrawal.admin.platforms.icon_url_help')}</small>\n            </div>\n            <div className=\"Form-col\">\n              <label>{app.translator.trans('withdrawal.admin.platforms.icon_class')}</label>\n              <input\n                type=\"text\"\n                className=\"FormControl\"\n                placeholder=\"fas fa-coins\"\n                bidi={this.iconClass}\n              />\n              <small className=\"helpText\">{app.translator.trans('withdrawal.admin.platforms.icon_class_help')}</small>\n            </div>\n          </div>\n          \n          <div className=\"Form-group\">\n            <Button\n              className=\"Button Button--primary\"\n              loading={this.attrs.submitting}\n              disabled={this.attrs.submitting}\n              onclick={this.handleSubmit.bind(this)}\n            >\n              {app.translator.trans('withdrawal.admin.platforms.add_button')}\n            </Button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  private validateForm(): boolean {\n    const validator = new FormValidator();\n    \n    try {\n      validator\n        .required(this.name(), 'name', app.translator.trans('withdrawal.admin.platforms.name'))\n        .required(this.symbol(), 'symbol', app.translator.trans('withdrawal.admin.platforms.symbol'))\n        .numberRange(this.minAmount(), 0, undefined, 'minAmount', app.translator.trans('withdrawal.admin.platforms.min_amount'))\n        .numberRange(this.maxAmount(), 0, undefined, 'maxAmount', app.translator.trans('withdrawal.admin.platforms.max_amount'))\n        .numberRange(this.fee(), 0, undefined, 'fee', app.translator.trans('withdrawal.admin.platforms.fee'));\n\n      // Custom validation for max >= min\n      const minVal = parseFloat(this.minAmount());\n      const maxVal = parseFloat(this.maxAmount());\n      if (maxVal < minVal) {\n        validator.addError('maxAmount', app.translator.trans('withdrawal.admin.platforms.max_min_error'));\n      }\n\n      // Optional URL validation\n      if (this.iconUrl() && this.iconUrl().trim()) {\n        validator.url(this.iconUrl(), 'iconUrl', app.translator.trans('withdrawal.admin.platforms.icon_url'));\n      }\n\n      return validator.isValid();\n    } catch (error) {\n      if (error instanceof Error) {\n        app.alerts.show({ type: 'error', dismissible: true }, error.message);\n      }\n      return false;\n    }\n  }\n\n  private async handleSubmit(): Promise<void> {\n    if (this.attrs.submitting) return;\n\n    if (!this.validateForm()) return;\n\n    const formData: PlatformFormData = {\n      name: this.name(),\n      symbol: this.symbol(),\n      network: this.network(),\n      minAmount: this.minAmount(),\n      maxAmount: this.maxAmount(),\n      fee: this.fee(),\n      iconUrl: this.iconUrl(),\n      iconClass: this.iconClass()\n    };\n\n    try {\n      await this.attrs.onSubmit(formData);\n      this.clearForm();\n    } catch {\n      // Error handling is done in parent component\n    }\n  }\n\n  private clearForm(): void {\n    this.name('');\n    this.symbol('');\n    this.network('');\n    this.minAmount('');\n    this.maxAmount('');\n    this.fee('');\n    this.iconUrl('');\n    this.iconClass('');\n    m.redraw();\n  }\n}","import app from 'flarum/admin/app';\r\nimport Component from 'flarum/common/Component';\r\nimport Button from 'flarum/common/components/Button';\r\nimport humanTime from 'flarum/common/helpers/humanTime';\r\nimport type Mithril from 'mithril';\r\nimport { WithdrawalPlatform } from '../types/AdminTypes';\r\n\r\nexport interface PlatformListItemAttrs {\r\n  platform: WithdrawalPlatform;\r\n  onToggleStatus: (platform: WithdrawalPlatform) => Promise<void>;\r\n  onDelete: (platform: WithdrawalPlatform) => void;\r\n}\r\n\r\nexport default class PlatformListItem extends Component<PlatformListItemAttrs> {\r\n  view(): Mithril.Children {\r\n    const platform = this.attrs.platform;\r\n    \r\n    // Handle both Model instances and plain objects\r\n    const platformId = typeof platform.id === 'function' ? platform.id() : platform.id;\r\n    const platformName = (typeof platform.name === 'function' ? platform.name() : platform.attributes?.name) || 'Unknown Platform';\r\n    const network = (typeof platform.network === 'function' ? platform.network() : platform.attributes?.network) || null;\r\n    const displayName = (typeof platform.displayName === 'function' ? platform.displayName() : platform.attributes?.displayName) || platformName;\r\n    const minAmount = (typeof platform.minAmount === 'function' ? platform.minAmount() : platform.attributes?.minAmount) || 'N/A';\r\n    const maxAmount = (typeof platform.maxAmount === 'function' ? platform.maxAmount() : platform.attributes?.maxAmount) || 'N/A';\r\n    const fee = (typeof platform.fee === 'function' ? platform.fee() : platform.attributes?.fee) || 'N/A';\r\n    const isActive = (typeof platform.isActive === 'function' ? platform.isActive() : platform.attributes?.isActive) ?? false;\r\n    const createdDate = (typeof platform.createdAt === 'function' ? platform.createdAt() : platform.attributes?.createdAt) || null;\r\n    \r\n    let dateDisplay: Mithril.Children = 'N/A';\r\n    if (createdDate) {\r\n      try {\r\n        dateDisplay = humanTime(createdDate);\r\n      } catch (e) {\r\n        console.error('Error formatting date:', e);\r\n        dateDisplay = 'Invalid Date';\r\n      }\r\n    }\r\n    \r\n    return (\r\n      <div key={platformId} className=\"WithdrawalPlatform\">\r\n        <div className=\"WithdrawalPlatform-info\">\r\n          <div className=\"WithdrawalPlatform-primary\">\r\n            <span className={`WithdrawalPlatform-status ${isActive ? 'active' : 'inactive'}`}>\r\n              {isActive ? '🟢' : '🔴'}\r\n            </span>\r\n            <span className=\"WithdrawalPlatform-name\">{displayName}</span>\r\n            <span className=\"platform-id\">#{platformId}</span>\r\n            {network && <span className=\"WithdrawalPlatform-network\">({network})</span>}\r\n          </div>\r\n          <div className=\"WithdrawalPlatform-details\">\r\n            <span className=\"WithdrawalPlatform-amounts\">\r\n              Min: {minAmount} | Max: {maxAmount} | Fee: {fee}\r\n            </span>\r\n            <span className=\"WithdrawalPlatform-date\">{dateDisplay}</span>\r\n          </div>\r\n        </div>\r\n        <div className=\"WithdrawalPlatform-actions\">\r\n          <Button\r\n            className={`Button ${isActive ? 'Button--secondary' : 'Button--primary'}`}\r\n            onclick={() => this.attrs.onToggleStatus(platform)}\r\n          >\r\n            {app.translator.trans(`withdrawal.admin.platforms.${isActive ? 'disable' : 'enable'}`)}\r\n          </Button>\r\n          <Button\r\n            className=\"Button Button--danger\"\r\n            onclick={() => this.attrs.onDelete(platform)}\r\n          >\r\n            {app.translator.trans('withdrawal.admin.platforms.delete')}\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}","import app from 'flarum/admin/app';\nimport Component from 'flarum/common/Component';\nimport type Mithril from 'mithril';\nimport { WithdrawalPlatform, PlatformFormData } from '../types/AdminTypes';\nimport AddPlatformForm from '../forms/AddPlatformForm';\nimport PlatformListItem from '../items/PlatformListItem';\n\nexport interface PlatformManagementSectionAttrs {\n  platforms: WithdrawalPlatform[];\n  submittingPlatform: boolean;\n  onAddPlatform: (formData: PlatformFormData) => Promise<void>;\n  onTogglePlatformStatus: (platform: WithdrawalPlatform) => Promise<void>;\n  onDeletePlatform: (platform: WithdrawalPlatform) => void;\n}\n\nexport default class PlatformManagementSection extends Component<PlatformManagementSectionAttrs> {\n  view(): Mithril.Children {\n    const { platforms, submittingPlatform, onAddPlatform, onTogglePlatformStatus, onDeletePlatform } = this.attrs;\n\n    return (\n      <div className=\"WithdrawalManagementPage-section\">\n        <h3>{app.translator.trans('withdrawal.admin.platforms.title')}</h3>\n        \n        <AddPlatformForm \n          onSubmit={onAddPlatform}\n          submitting={submittingPlatform}\n        />\n\n        <div className=\"WithdrawalManagementPage-platformList\">\n          {platforms.length === 0 ? (\n            <p>{app.translator.trans('withdrawal.admin.platforms.empty')}</p>\n          ) : (\n            platforms.map((platform) => (\n              <PlatformListItem\n                key={typeof platform.id === 'function' ? platform.id() : platform.id}\n                platform={platform}\n                onToggleStatus={onTogglePlatformStatus}\n                onDelete={onDeletePlatform}\n              />\n            ))\n          )}\n        </div>\n      </div>\n    );\n  }\n}","import app from 'flarum/admin/app';\nimport Component from 'flarum/common/Component';\nimport Button from 'flarum/common/components/Button';\nimport humanTime from 'flarum/common/helpers/humanTime';\nimport type Mithril from 'mithril';\nimport { WithdrawalRequest } from '../types/AdminTypes';\n\nexport interface WithdrawalRequestItemAttrs {\n  request: WithdrawalRequest;\n  showActions: boolean;\n  showDelete?: boolean;\n  onUpdateStatus?: (request: WithdrawalRequest, status: string) => Promise<void>;\n  onDelete?: (request: WithdrawalRequest) => void;\n}\n\nexport default class WithdrawalRequestItem extends Component<WithdrawalRequestItemAttrs> {\n  view(): Mithril.Children {\n    const request = this.attrs.request;\n    const { showActions, showDelete = false } = this.attrs;\n    \n    // Handle Flarum Model instances\n    const requestId = typeof request.id === 'function' ? request.id() : request.id;\n    const amount = typeof request.amount === 'function' ? request.amount() : (request.attributes?.amount || 0);\n    const status = typeof request.status === 'function' ? request.status() : (request.attributes?.status || 'pending');\n    const accountDetails = typeof request.accountDetails === 'function' ? request.accountDetails() : \n      (request.attributes?.accountDetails || request.attributes?.account_details || 'N/A');\n    const createdDate = typeof request.createdAt === 'function' ? request.createdAt() : (request.attributes?.createdAt || null);\n    \n    // Get user info\n    let userName = 'Unknown User';\n    if (typeof request.user === 'function') {\n      const userData = request.user();\n      if (userData && typeof userData.displayName === 'function') {\n        userName = userData.displayName();\n      } else if (userData && userData.attributes?.displayName) {\n        userName = userData.attributes.displayName;\n      }\n    }\n    \n    // Get platform info - simplified approach using Flarum Model relationships\n    let platformName = 'Unknown Platform';\n    let platformSymbol = 'N/A';\n    \n    if (typeof request.platform === 'function') {\n      const platform = request.platform();\n      if (platform) {\n        platformName = typeof platform.name === 'function' ? platform.name() : (platform.attributes?.name || 'Unknown Platform');\n        platformSymbol = typeof platform.symbol === 'function' ? platform.symbol() : (platform.attributes?.symbol || 'N/A');\n      }\n    }\n    \n    const statusClass = `status-${status}`;\n    \n    let dateDisplay: Mithril.Children = 'N/A';\n    if (createdDate) {\n      try {\n        dateDisplay = humanTime(createdDate);\n      } catch (e) {\n        console.error('Error formatting request date:', e);\n        dateDisplay = 'Invalid Date';\n      }\n    }\n\n    return (\n      <div key={requestId} className={`WithdrawalRequest ${statusClass}`}>\n        <div className=\"WithdrawalRequest-info\">\n          <div className=\"WithdrawalRequest-user\">\n            <strong>{userName}</strong>\n            <span className=\"request-id\">#{requestId}</span>\n          </div>\n          <div className=\"WithdrawalRequest-details\">\n            <span className=\"amount\">{amount}</span>\n            <span className=\"platform\">{platformName}</span>\n            <span className=\"symbol\">{platformSymbol}</span>\n            <span className=\"date\">{dateDisplay}</span>\n          </div>\n          <div className=\"WithdrawalRequest-account\">\n            <strong>{app.translator.trans('withdrawal.admin.requests.account_details')}:</strong>\n            <span>{accountDetails}</span>\n          </div>\n          <div className=\"WithdrawalRequest-status\">\n            <span className={`Badge Badge--${status}`}>\n              {app.translator.trans(`withdrawal.admin.requests.status.${status}`)}\n            </span>\n          </div>\n        </div>\n        \n        {(showActions || showDelete) && (\n          <div className=\"WithdrawalRequest-actions\">\n            {showActions && this.attrs.onUpdateStatus && (\n              <>\n                <Button\n                  className=\"Button Button--primary\"\n                  onclick={() => this.attrs.onUpdateStatus!(request, 'approved')}\n                >\n                  {app.translator.trans('withdrawal.admin.requests.approve')}\n                </Button>\n                <Button\n                  className=\"Button Button--danger\"\n                  onclick={() => this.attrs.onUpdateStatus!(request, 'rejected')}\n                >\n                  {app.translator.trans('withdrawal.admin.requests.reject')}\n                </Button>\n              </>\n            )}\n            {this.attrs.onDelete && (\n              <Button\n                className=\"Button Button--link\"\n                onclick={() => this.attrs.onDelete!(request)}\n              >\n                <i className=\"fas fa-trash\"></i>\n                {app.translator.trans('withdrawal.admin.requests.delete')}\n              </Button>\n            )}\n          </div>\n        )}\n      </div>\n    );\n  }\n}","import app from 'flarum/admin/app';\nimport Component from 'flarum/common/Component';\nimport type Mithril from 'mithril';\nimport { WithdrawalRequest } from '../types/AdminTypes';\nimport WithdrawalRequestItem from '../items/WithdrawalRequestItem';\n\nexport interface RequestManagementSectionAttrs {\n  requests: WithdrawalRequest[];\n  onUpdateRequestStatus: (request: WithdrawalRequest, status: string) => Promise<void>;\n  onDeleteRequest: (request: WithdrawalRequest) => void;\n}\n\nexport default class RequestManagementSection extends Component<RequestManagementSectionAttrs> {\n  view(): Mithril.Children {\n    const { requests, onUpdateRequestStatus, onDeleteRequest } = this.attrs;\n\n    const pendingRequests = requests.filter(r => {\n      const status = (typeof r.status === 'function' ? r.status() : r.attributes?.status) || 'pending';\n      return status === 'pending';\n    });\n    \n    const processedRequests = requests.filter(r => {\n      const status = (typeof r.status === 'function' ? r.status() : r.attributes?.status) || 'pending';\n      return status !== 'pending';\n    });\n\n    return (\n      <div className=\"WithdrawalManagementPage-section\">\n        <h3>{app.translator.trans('withdrawal.admin.requests.title')}</h3>\n        \n        <div className=\"WithdrawalManagementPage-pendingRequests\">\n          <h4>{app.translator.trans('withdrawal.admin.requests.pending_title')}</h4>\n          {pendingRequests.length === 0 ? (\n            <p>{app.translator.trans('withdrawal.admin.requests.no_pending')}</p>\n          ) : (\n            pendingRequests.map((request) => (\n              <WithdrawalRequestItem\n                key={typeof request.id === 'function' ? request.id() : request.id}\n                request={request}\n                showActions={true}\n                showDelete={true}\n                onUpdateStatus={onUpdateRequestStatus}\n                onDelete={onDeleteRequest}\n              />\n            ))\n          )}\n        </div>\n\n        <div className=\"WithdrawalManagementPage-processedRequests\">\n          <h4>{app.translator.trans('withdrawal.admin.requests.processed_title')}</h4>\n          {processedRequests.length === 0 ? (\n            <p>{app.translator.trans('withdrawal.admin.requests.no_processed')}</p>\n          ) : (\n            processedRequests.map((request) => (\n              <WithdrawalRequestItem\n                key={typeof request.id === 'function' ? request.id() : request.id}\n                request={request}\n                showActions={false}\n                showDelete={true}\n                onDelete={onDeleteRequest}\n              />\n            ))\n          )}\n        </div>\n      </div>\n    );\n  }\n}","import app from 'flarum/admin/app';\r\nimport Component from 'flarum/common/Component';\r\nimport Button from 'flarum/common/components/Button';\r\nimport Switch from 'flarum/common/components/Switch';\r\nimport Stream from 'flarum/common/utils/Stream';\r\nimport withAttr from 'flarum/common/utils/withAttr';\r\nimport m from 'mithril';\r\nimport type Mithril from 'mithril';\r\nimport NetworkType from '../../../common/models/NetworkType';\r\nimport { FormValidator } from '../../../common/utils/formValidators';\r\n\r\nexport interface DepositPlatformFormData {\r\n  name: string;\r\n  symbol: string;\r\n  network: string;\r\n  networkTypeId: number | null;\r\n  minAmount: string;\r\n  maxAmount: string;\r\n  address: string;\r\n  qrCodeImageUrl: string;\r\n  iconUrl: string;\r\n  iconClass: string;\r\n  warningText: string;\r\n  isActive: boolean;\r\n}\r\n\r\nexport interface AddDepositPlatformFormAttrs {\r\n  submitting: boolean;\r\n  onSubmit: (formData: DepositPlatformFormData) => Promise<void>;\r\n  onCancel: () => void;\r\n}\r\n\r\nexport default class AddDepositPlatformForm extends Component<AddDepositPlatformFormAttrs> {\r\n  private formData = {\r\n    name: Stream(''),\r\n    symbol: Stream(''),\r\n    network: Stream(''),\r\n    networkTypeId: Stream<number | null>(null),\r\n    minAmount: Stream(''),\r\n    maxAmount: Stream(''),\r\n    address: Stream(''),\r\n    qrCodeImageUrl: Stream(''),\r\n    iconUrl: Stream(''),\r\n    iconClass: Stream(''),\r\n    warningText: Stream(''),\r\n    isActive: Stream(true)\r\n  };\r\n  \r\n  private networkTypes: NetworkType[] = [];\r\n  private loadingNetworkTypes = false;\r\n\r\n  oninit(vnode: Mithril.Vnode<AddDepositPlatformFormAttrs>) {\r\n    super.oninit(vnode);\r\n    this.loadNetworkTypes();\r\n  }\r\n\r\n  view(vnode: Mithril.Vnode<AddDepositPlatformFormAttrs>) {\r\n    const { submitting, onCancel } = vnode.attrs;\r\n\r\n    return (\r\n      <div className=\"AddDepositPlatformForm\">\r\n        <div className=\"Form\">\r\n          <div className=\"Form-row\">\r\n            <div className=\"Form-group\">\r\n              <label>\r\n                {app.translator.trans('withdrawal.admin.deposit.platforms.name')}\r\n                <span className=\"Form-required\">*</span>\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"FormControl\"\r\n                placeholder=\"e.g., Tether\"\r\n                bidi={this.formData.name}\r\n                disabled={submitting}\r\n              />\r\n            </div>\r\n            <div className=\"Form-group\">\r\n              <label>\r\n                {app.translator.trans('withdrawal.admin.deposit.platforms.symbol')}\r\n                <span className=\"Form-required\">*</span>\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"FormControl\"\r\n                placeholder=\"e.g., USDT\"\r\n                bidi={this.formData.symbol}\r\n                disabled={submitting}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"Form-row\">\r\n            <div className=\"Form-group\">\r\n              <label>\r\n                {app.translator.trans('withdrawal.admin.deposit.platforms.network')}\r\n              </label>\r\n              <select\r\n                className=\"FormControl\"\r\n                value={this.formData.networkTypeId() || ''}\r\n                onchange={withAttr('value', (value: string) => {\r\n                  const networkTypeId = value ? parseInt(value) : null;\r\n                  this.formData.networkTypeId(networkTypeId);\r\n                  \r\n                  // Auto-fill network field based on selected network type\r\n                  if (networkTypeId) {\r\n                    const networkType = this.networkTypes.find(nt => nt.id() === networkTypeId);\r\n                    if (networkType) {\r\n                      this.formData.network(networkType.code());\r\n                    }\r\n                  } else {\r\n                    this.formData.network('');\r\n                  }\r\n                })}\r\n                disabled={submitting || this.loadingNetworkTypes}\r\n              >\r\n                <option value=\"\">{this.loadingNetworkTypes ? 'Loading...' : 'Select Network Type (Optional)'}</option>\r\n                {this.networkTypes.map(networkType => (\r\n                  <option key={networkType.id()} value={networkType.id()}>\r\n                    {networkType.name()}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n            \r\n            <div className=\"Form-group\">\r\n              <label>\r\n                {app.translator.trans('withdrawal.admin.deposit.platforms.custom_network')}\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"FormControl\"\r\n                placeholder=\"Custom network name (if not using predefined)\"\r\n                bidi={this.formData.network}\r\n                disabled={submitting}\r\n              />\r\n              <div className=\"helpText\">\r\n                Leave empty to use the selected network type above, or enter a custom network name.\r\n              </div>\r\n            </div>\r\n            <div className=\"Form-group\">\r\n              <label>\r\n                {app.translator.trans('withdrawal.admin.deposit.platforms.min_amount')}\r\n              </label>\r\n              <input\r\n                type=\"number\"\r\n                step=\"0.00000001\"\r\n                min=\"0\"\r\n                className=\"FormControl\"\r\n                placeholder=\"0.0\"\r\n                bidi={this.formData.minAmount}\r\n                disabled={submitting}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"Form-row\">\r\n            <div className=\"Form-group\">\r\n              <label>\r\n                {app.translator.trans('withdrawal.admin.deposit.platforms.max_amount')}\r\n              </label>\r\n              <input\r\n                type=\"number\"\r\n                step=\"0.00000001\"\r\n                min=\"0\"\r\n                className=\"FormControl\"\r\n                placeholder=\"Leave empty for unlimited\"\r\n                bidi={this.formData.maxAmount}\r\n                disabled={submitting}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"Form-group\">\r\n            <label>\r\n              {app.translator.trans('withdrawal.admin.deposit.platforms.address')}\r\n              <span className=\"Form-required\">*</span>\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"FormControl\"\r\n              placeholder=\"Enter deposit address for this platform\"\r\n              bidi={this.formData.address}\r\n              disabled={submitting}\r\n            />\r\n            <div className=\"helpText\">\r\n              {app.translator.trans('withdrawal.admin.deposit.platforms.address_help')}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"Form-group\">\r\n            <label>\r\n              {app.translator.trans('withdrawal.admin.deposit.platforms.qr_code_image_url')}\r\n            </label>\r\n            <input\r\n              type=\"url\"\r\n              className=\"FormControl\"\r\n              placeholder=\"https://example.com/qr-code.png\"\r\n              bidi={this.formData.qrCodeImageUrl}\r\n              disabled={submitting}\r\n            />\r\n            <div className=\"helpText\">\r\n              {app.translator.trans('withdrawal.admin.deposit.platforms.qr_code_image_help')}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"Form-row\">\r\n            <div className=\"Form-group\">\r\n              <label>\r\n                {app.translator.trans('withdrawal.admin.deposit.platforms.icon_url')}\r\n              </label>\r\n              <input\r\n                type=\"url\"\r\n                className=\"FormControl\"\r\n                placeholder=\"https://example.com/icon.png\"\r\n                bidi={this.formData.iconUrl}\r\n                disabled={submitting}\r\n              />\r\n            </div>\r\n            <div className=\"Form-group\">\r\n              <label>\r\n                {app.translator.trans('withdrawal.admin.deposit.platforms.icon_class')}\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"FormControl\"\r\n                placeholder=\"fas fa-coins\"\r\n                bidi={this.formData.iconClass}\r\n                disabled={submitting}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n\r\n          <div className=\"Form-group\">\r\n            <label>\r\n              {app.translator.trans('withdrawal.admin.deposit.platforms.warning_text')}\r\n            </label>\r\n            <textarea\r\n              className=\"FormControl\"\r\n              rows={3}\r\n              placeholder=\"Network-specific warning for users\"\r\n              bidi={this.formData.warningText}\r\n              disabled={submitting}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"Form-group\">\r\n            <Switch state={this.formData.isActive()} onchange={this.formData.isActive} disabled={submitting}>\r\n              {app.translator.trans('withdrawal.admin.deposit.platforms.is_active')}\r\n            </Switch>\r\n          </div>\r\n\r\n          <div className=\"Form-actions\">\r\n            <Button\r\n              className=\"Button Button--primary\"\r\n              type=\"submit\"\r\n              loading={submitting}\r\n              onclick={this.handleSubmit.bind(this, vnode.attrs)}\r\n            >\r\n              {app.translator.trans('withdrawal.admin.deposit.platforms.add_button')}\r\n            </Button>\r\n            <Button\r\n              className=\"Button\"\r\n              onclick={onCancel}\r\n              disabled={submitting}\r\n            >\r\n              {app.translator.trans('core.admin.basics.cancel_button')}\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  private async loadNetworkTypes(): Promise<void> {\r\n    this.loadingNetworkTypes = true;\r\n    m.redraw();\r\n\r\n    try {\r\n      const response = await app.request({\r\n        method: 'GET',\r\n        url: app.forum.attribute('apiUrl') + '/network-types?filter[is_active]=1',\r\n      });\r\n\r\n      app.store.pushPayload(response);\r\n      this.networkTypes = app.store.all('network-types') as NetworkType[];\r\n    } catch (error) {\r\n      console.error('Failed to load network types:', error);\r\n    } finally {\r\n      this.loadingNetworkTypes = false;\r\n      m.redraw();\r\n    }\r\n  }\r\n\r\n  private validateForm(): boolean {\r\n    const validator = new FormValidator();\r\n    \r\n    try {\r\n      validator\r\n        .required(this.formData.name(), 'name', app.translator.trans('withdrawal.admin.deposit.platforms.name'))\r\n        .required(this.formData.symbol(), 'symbol', app.translator.trans('withdrawal.admin.deposit.platforms.symbol'))\r\n        .required(this.formData.address(), 'address', app.translator.trans('withdrawal.admin.deposit.platforms.address'));\r\n\r\n      // Optional numeric fields validation\r\n      if (this.formData.minAmount() && this.formData.minAmount().trim()) {\r\n        validator.numberRange(this.formData.minAmount(), 0, undefined, 'minAmount', app.translator.trans('withdrawal.admin.deposit.platforms.min_amount'));\r\n      }\r\n      \r\n      if (this.formData.maxAmount() && this.formData.maxAmount().trim()) {\r\n        validator.numberRange(this.formData.maxAmount(), 0, undefined, 'maxAmount', app.translator.trans('withdrawal.admin.deposit.platforms.max_amount'));\r\n      }\r\n\r\n      // Custom validation for max >= min if both are provided\r\n      if (this.formData.minAmount() && this.formData.maxAmount()) {\r\n        const minVal = parseFloat(this.formData.minAmount());\r\n        const maxVal = parseFloat(this.formData.maxAmount());\r\n        if (!isNaN(minVal) && !isNaN(maxVal) && maxVal < minVal) {\r\n          validator.addError('maxAmount', app.translator.trans('withdrawal.admin.platforms.max_min_error'));\r\n        }\r\n      }\r\n\r\n      // Optional URL validations\r\n      if (this.formData.iconUrl() && this.formData.iconUrl().trim()) {\r\n        validator.url(this.formData.iconUrl(), 'iconUrl', app.translator.trans('withdrawal.admin.deposit.platforms.icon_url'));\r\n      }\r\n      \r\n      if (this.formData.qrCodeImageUrl() && this.formData.qrCodeImageUrl().trim()) {\r\n        validator.url(this.formData.qrCodeImageUrl(), 'qrCodeImageUrl', app.translator.trans('withdrawal.admin.deposit.platforms.qr_code_image_url'));\r\n      }\r\n\r\n      return validator.isValid();\r\n    } catch (error) {\r\n      if (error instanceof Error) {\r\n        app.alerts.show({ type: 'error', dismissible: true }, error.message);\r\n      }\r\n      return false;\r\n    }\r\n  }\r\n\r\n  private async handleSubmit(attrs: AddDepositPlatformFormAttrs): Promise<void> {\r\n    if (attrs.submitting) return;\r\n\r\n    if (!this.validateForm()) return;\r\n\r\n    const formData: DepositPlatformFormData = {\r\n      name: this.formData.name(),\r\n      symbol: this.formData.symbol(),\r\n      network: this.formData.network(),\r\n      networkTypeId: this.formData.networkTypeId(),\r\n      minAmount: this.formData.minAmount(),\r\n      maxAmount: this.formData.maxAmount(),\r\n      address: this.formData.address(),\r\n      qrCodeImageUrl: this.formData.qrCodeImageUrl(),\r\n      iconUrl: this.formData.iconUrl(),\r\n      iconClass: this.formData.iconClass(),\r\n      warningText: this.formData.warningText(),\r\n      isActive: this.formData.isActive()\r\n    };\r\n\r\n    try {\r\n      await attrs.onSubmit(formData);\r\n      \r\n      // Reset form\r\n      Object.keys(this.formData).forEach(key => {\r\n        if (key === 'isActive') {\r\n          this.formData[key](true);\r\n        } else if (key === 'networkTypeId') {\r\n          this.formData[key](null);\r\n        } else {\r\n          this.formData[key]('');\r\n        }\r\n      });\r\n\r\n      attrs.onCancel();\r\n    } catch (error) {\r\n      // Error handling is done in parent component\r\n      console.error('Form submission error:', error);\r\n    }\r\n  }\r\n}","import app from 'flarum/admin/app';\r\nimport Component from 'flarum/common/Component';\r\nimport Button from 'flarum/common/components/Button';\r\nimport Switch from 'flarum/common/components/Switch';\r\nimport icon from 'flarum/common/helpers/icon';\r\nimport m from 'mithril';\r\nimport type Mithril from 'mithril';\r\nimport type DepositPlatform from '../../../common/models/DepositPlatform';\r\n\r\nexport interface DepositPlatformListItemAttrs {\r\n  platform: DepositPlatform;\r\n  onToggleStatus: () => Promise<void>;\r\n  onDelete: () => Promise<void>;\r\n}\r\n\r\nexport default class DepositPlatformListItem extends Component<DepositPlatformListItemAttrs> {\r\n  view(vnode: Mithril.Vnode<DepositPlatformListItemAttrs>) {\r\n    const { platform, onToggleStatus, onDelete } = vnode.attrs;\r\n\r\n    return (\r\n      <div className=\"DepositPlatformListItem\">\r\n        <div className=\"DepositPlatformListItem-content\">\r\n          <div className=\"DepositPlatformListItem-icon\">\r\n            {this.renderPlatformIcon(platform)}\r\n          </div>\r\n          \r\n          <div className=\"DepositPlatformListItem-info\">\r\n            <div className=\"DepositPlatformListItem-primary\">\r\n              <strong>{platform.name()}</strong>\r\n              <span className=\"DepositPlatformListItem-displayName\">\r\n                {platform.symbol()} ({platform.network()})\r\n              </span>\r\n            </div>\r\n            \r\n            <div className=\"DepositPlatformListItem-details\">\r\n              <span className=\"DepositPlatformListItem-detail\">\r\n                Min: {platform.minAmount()} {platform.symbol()}\r\n              </span>\r\n              {platform.maxAmount && (\r\n                <span className=\"DepositPlatformListItem-detail\">\r\n                  Max: {platform.maxAmount()} {platform.symbol()}\r\n                </span>\r\n              )}\r\n              <span className=\"DepositPlatformListItem-detail\">\r\n                Address: {platform.address() ? 'Static' : 'Template'}\r\n              </span>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"DepositPlatformListItem-actions\">\r\n            <Switch \r\n              state={platform.isActive()} \r\n              onchange={async () => {\r\n                await onToggleStatus();\r\n                m.redraw();\r\n              }}\r\n            >\r\n              {platform.isActive() \r\n                ? app.translator.trans('withdrawal.admin.deposit.platforms.active')\r\n                : app.translator.trans('withdrawal.admin.deposit.platforms.inactive')\r\n              }\r\n            </Switch>\r\n            \r\n            <Button\r\n              className=\"Button Button--icon Button--flat\"\r\n              icon=\"fas fa-trash\"\r\n              onclick={async () => {\r\n                await onDelete();\r\n                m.redraw();\r\n              }}\r\n              title={app.translator.trans('withdrawal.admin.deposit.platforms.delete')}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  private renderPlatformIcon(platform: DepositPlatform): Mithril.Children {\r\n    if (platform.iconUrl()) {\r\n      return <img src={platform.iconUrl()} alt={platform.symbol()} className=\"DepositPlatformListItem-img\" />;\r\n    }\r\n\r\n    if (platform.iconClass()) {\r\n      return icon(platform.iconClass());\r\n    }\r\n\r\n    // Default currency icons\r\n    switch (platform.symbol()) {\r\n      case 'USDT':\r\n        return <span className=\"DepositPlatformListItem-currencyIcon usdt\">₮</span>;\r\n      case 'USDC':\r\n        return <span className=\"DepositPlatformListItem-currencyIcon usdc\">$</span>;\r\n      case 'BTC':\r\n        return <span className=\"DepositPlatformListItem-currencyIcon btc\">₿</span>;\r\n      case 'ETH':\r\n        return <span className=\"DepositPlatformListItem-currencyIcon eth\">Ξ</span>;\r\n      default:\r\n        return icon('fas fa-coins');\r\n    }\r\n  }\r\n}","import app from 'flarum/admin/app';\r\nimport Component from 'flarum/common/Component';\r\nimport Button from 'flarum/common/components/Button';\r\nimport icon from 'flarum/common/helpers/icon';\r\nimport humanTime from 'flarum/common/helpers/humanTime';\r\nimport username from 'flarum/common/helpers/username';\r\nimport type Mithril from 'mithril';\r\nimport type { DepositTransaction } from '../types/AdminTypes';\r\n\r\nexport interface DepositTransactionItemAttrs {\r\n  transaction: DepositTransaction;\r\n  showActions: boolean;\r\n  onUpdateStatus: (status: string) => Promise<void>;\r\n}\r\n\r\nexport default class DepositTransactionItem extends Component<DepositTransactionItemAttrs> {\r\n  view(vnode: Mithril.Vnode<DepositTransactionItemAttrs>) {\r\n    const { transaction, showActions, onUpdateStatus } = vnode.attrs;\r\n\r\n    return (\r\n      <div className=\"DepositTransactionItem\">\r\n        <div className=\"DepositTransactionItem-header\">\r\n          <div className=\"DepositTransactionItem-user\">\r\n            <strong>{username(transaction.user)}</strong>\r\n            <span className=\"DepositTransactionItem-time\">\r\n              {humanTime(transaction.createdAt)}\r\n            </span>\r\n          </div>\r\n          \r\n          <div className=\"DepositTransactionItem-amount\">\r\n            <span className=\"DepositTransactionItem-amountValue\">\r\n              {transaction.amount} {transaction.platform.symbol}\r\n            </span>\r\n            <div className={`DepositTransactionItem-status status-${transaction.statusColor}`}>\r\n              {this.getStatusIcon(transaction.status)}\r\n              {this.getStatusText(transaction.status)}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"DepositTransactionItem-details\">\r\n          <div className=\"DepositTransactionItem-platform\">\r\n            <span className=\"DepositTransactionItem-label\">Platform:</span>\r\n            <span>{transaction.platform.name} ({transaction.platform.network})</span>\r\n          </div>\r\n\r\n          {transaction.transactionHash && (\r\n            <div className=\"DepositTransactionItem-hash\">\r\n              <span className=\"DepositTransactionItem-label\">Hash:</span>\r\n              {transaction.explorerUrl ? (\r\n                <a \r\n                  href={transaction.explorerUrl} \r\n                  target=\"_blank\" \r\n                  rel=\"noopener noreferrer\"\r\n                  className=\"DepositTransactionItem-hashLink\"\r\n                >\r\n                  {this.formatHash(transaction.transactionHash)}\r\n                  {icon('fas fa-external-link-alt')}\r\n                </a>\r\n              ) : (\r\n                <span className=\"DepositTransactionItem-hashText\">\r\n                  {this.formatHash(transaction.transactionHash)}\r\n                </span>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {transaction.fromAddress && (\r\n            <div className=\"DepositTransactionItem-fromAddress\">\r\n              <span className=\"DepositTransactionItem-label\">From:</span>\r\n              <span className=\"DepositTransactionItem-address\">\r\n                {this.formatHash(transaction.fromAddress)}\r\n              </span>\r\n            </div>\r\n          )}\r\n\r\n          {transaction.confirmations !== undefined && (\r\n            <div className=\"DepositTransactionItem-confirmations\">\r\n              <span className=\"DepositTransactionItem-label\">Confirmations:</span>\r\n              <span>\r\n                {transaction.confirmations}/{transaction.requiredConfirmations}\r\n                {transaction.hasEnoughConfirmations && \r\n                  <span className=\"DepositTransactionItem-confirmed\"> ✓</span>\r\n                }\r\n              </span>\r\n            </div>\r\n          )}\r\n\r\n          {transaction.adminNotes && (\r\n            <div className=\"DepositTransactionItem-notes\">\r\n              <span className=\"DepositTransactionItem-label\">Notes:</span>\r\n              <span>{transaction.adminNotes}</span>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {showActions && this.renderActions(transaction, onUpdateStatus)}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  private renderActions(transaction: DepositTransaction, onUpdateStatus: (status: string) => void): Mithril.Children {\r\n    const actions = [];\r\n\r\n    if (transaction.status === 'pending') {\r\n      actions.push(\r\n        <Button\r\n          key=\"confirm\"\r\n          className=\"Button Button--primary Button--sm\"\r\n          onclick={() => onUpdateStatus('confirmed')}\r\n        >\r\n          {app.translator.trans('withdrawal.admin.deposit.transactions.confirm')}\r\n        </Button>\r\n      );\r\n    }\r\n\r\n    if (transaction.status === 'confirmed' && transaction.canBeCompleted) {\r\n      actions.push(\r\n        <Button\r\n          key=\"complete\"\r\n          className=\"Button Button--success Button--sm\"\r\n          onclick={() => onUpdateStatus('completed')}\r\n        >\r\n          {app.translator.trans('withdrawal.admin.deposit.transactions.complete')}\r\n        </Button>\r\n      );\r\n    }\r\n\r\n    if (transaction.status === 'pending' || transaction.status === 'confirmed') {\r\n      actions.push(\r\n        <Button\r\n          key=\"reject\"\r\n          className=\"Button Button--danger Button--sm\"\r\n          onclick={() => onUpdateStatus('failed')}\r\n        >\r\n          {app.translator.trans('withdrawal.admin.deposit.transactions.reject')}\r\n        </Button>\r\n      );\r\n    }\r\n\r\n    return actions.length > 0 ? (\r\n      <div className=\"DepositTransactionItem-actions\">\r\n        {actions}\r\n      </div>\r\n    ) : null;\r\n  }\r\n\r\n  private getStatusIcon(status: string): Mithril.Children {\r\n    switch (status) {\r\n      case 'pending':\r\n        return icon('fas fa-clock');\r\n      case 'confirmed':\r\n        return icon('fas fa-check-circle');\r\n      case 'completed':\r\n        return icon('fas fa-check-double');\r\n      case 'failed':\r\n        return icon('fas fa-times-circle');\r\n      case 'cancelled':\r\n        return icon('fas fa-ban');\r\n      default:\r\n        return icon('fas fa-question-circle');\r\n    }\r\n  }\r\n\r\n  private getStatusText(status: string): string {\r\n    switch (status) {\r\n      case 'pending':\r\n        return app.translator.trans('withdrawal.admin.deposit.transactions.status.pending');\r\n      case 'confirmed':\r\n        return app.translator.trans('withdrawal.admin.deposit.transactions.status.confirmed');\r\n      case 'completed':\r\n        return app.translator.trans('withdrawal.admin.deposit.transactions.status.completed');\r\n      case 'failed':\r\n        return app.translator.trans('withdrawal.admin.deposit.transactions.status.failed');\r\n      case 'cancelled':\r\n        return app.translator.trans('withdrawal.admin.deposit.transactions.status.cancelled');\r\n      default:\r\n        return status;\r\n    }\r\n  }\r\n\r\n  private formatHash(hash: string): string {\r\n    if (hash.length <= 16) return hash;\r\n    return `${hash.substring(0, 8)}...${hash.substring(hash.length - 8)}`;\r\n  }\r\n}","import app from 'flarum/admin/app';\r\nimport Component from 'flarum/common/Component';\r\nimport Button from 'flarum/common/components/Button';\r\nimport type Mithril from 'mithril';\r\nimport type DepositPlatform from '../../../common/models/DepositPlatform';\r\nimport type { DepositTransaction } from '../types/AdminTypes';\r\nimport AddDepositPlatformForm from '../forms/AddDepositPlatformForm';\r\nimport DepositPlatformListItem from '../items/DepositPlatformListItem';\r\nimport DepositTransactionItem from '../items/DepositTransactionItem';\r\n\r\nexport interface DepositManagementSectionAttrs {\r\n  platforms: DepositPlatform[];\r\n  transactions: DepositTransaction[];\r\n  submittingPlatform: boolean;\r\n  onAddPlatform: (formData: any) => Promise<void>;\r\n  onTogglePlatformStatus: (platform: DepositPlatform) => Promise<void>;\r\n  onDeletePlatform: (platform: DepositPlatform) => Promise<void>;\r\n  onUpdateTransactionStatus: (transaction: DepositTransaction, status: string) => Promise<void>;\r\n}\r\n\r\nexport default class DepositManagementSection extends Component<DepositManagementSectionAttrs> {\r\n  private showPlatformForm = false;\r\n  private activeTransactionTab = 'pending';\r\n\r\n  view(vnode: Mithril.Vnode<DepositManagementSectionAttrs>) {\r\n    const { \r\n      platforms, \r\n      transactions, \r\n      submittingPlatform,\r\n      onAddPlatform,\r\n      onTogglePlatformStatus,\r\n      onDeletePlatform,\r\n      onUpdateTransactionStatus\r\n    } = vnode.attrs;\r\n\r\n    const pendingTransactions = transactions.filter(t => t.status === 'pending' || t.status === 'confirmed');\r\n    const completedTransactions = transactions.filter(t => t.status === 'completed' || t.status === 'failed' || t.status === 'cancelled');\r\n\r\n    return (\r\n      <div className=\"DepositManagementSection\">\r\n        <div className=\"Form-group\">\r\n          <h3>{app.translator.trans('withdrawal.admin.deposit.platforms.title')}</h3>\r\n          \r\n          <div className=\"DepositPlatforms\">\r\n            <div className=\"DepositPlatforms-header\">\r\n              <Button\r\n                className=\"Button Button--primary\"\r\n                onclick={() => { this.showPlatformForm = !this.showPlatformForm; }}\r\n              >\r\n                {app.translator.trans('withdrawal.admin.deposit.platforms.add_button')}\r\n              </Button>\r\n            </div>\r\n\r\n            {this.showPlatformForm && (\r\n              <AddDepositPlatformForm\r\n                submitting={submittingPlatform}\r\n                onSubmit={onAddPlatform}\r\n                onCancel={() => { this.showPlatformForm = false; }}\r\n              />\r\n            )}\r\n\r\n            <div className=\"DepositPlatforms-list\">\r\n              {platforms.length === 0 ? (\r\n                <p className=\"DepositPlatforms-empty\">\r\n                  {app.translator.trans('withdrawal.admin.deposit.platforms.empty')}\r\n                </p>\r\n              ) : (\r\n                platforms.map(platform => (\r\n                  <DepositPlatformListItem\r\n                    key={platform.id}\r\n                    platform={platform}\r\n                    onToggleStatus={() => onTogglePlatformStatus(platform)}\r\n                    onDelete={() => onDeletePlatform(platform)}\r\n                  />\r\n                ))\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"Form-group\">\r\n          <h3>{app.translator.trans('withdrawal.admin.deposit.transactions.title')}</h3>\r\n          \r\n          <div className=\"DepositTransactions\">\r\n            <div className=\"DepositTransactions-tabs\">\r\n              <button\r\n                className={`DepositTransactions-tab ${this.activeTransactionTab === 'pending' ? 'active' : ''}`}\r\n                onclick={() => { this.activeTransactionTab = 'pending'; }}\r\n              >\r\n                {app.translator.trans('withdrawal.admin.deposit.transactions.pending_title')} ({pendingTransactions.length})\r\n              </button>\r\n              <button\r\n                className={`DepositTransactions-tab ${this.activeTransactionTab === 'completed' ? 'active' : ''}`}\r\n                onclick={() => { this.activeTransactionTab = 'completed'; }}\r\n              >\r\n                {app.translator.trans('withdrawal.admin.deposit.transactions.completed_title')} ({completedTransactions.length})\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"DepositTransactions-content\">\r\n              {this.activeTransactionTab === 'pending' ? (\r\n                <div className=\"DepositTransactions-pending\">\r\n                  {pendingTransactions.length === 0 ? (\r\n                    <p className=\"DepositTransactions-empty\">\r\n                      {app.translator.trans('withdrawal.admin.deposit.transactions.no_pending')}\r\n                    </p>\r\n                  ) : (\r\n                    pendingTransactions.map(transaction => (\r\n                      <DepositTransactionItem\r\n                        key={transaction.id}\r\n                        transaction={transaction}\r\n                        onUpdateStatus={(status) => onUpdateTransactionStatus(transaction, status)}\r\n                        showActions={true}\r\n                      />\r\n                    ))\r\n                  )}\r\n                </div>\r\n              ) : (\r\n                <div className=\"DepositTransactions-completed\">\r\n                  {completedTransactions.length === 0 ? (\r\n                    <p className=\"DepositTransactions-empty\">\r\n                      {app.translator.trans('withdrawal.admin.deposit.transactions.no_completed')}\r\n                    </p>\r\n                  ) : (\r\n                    completedTransactions.map(transaction => (\r\n                      <DepositTransactionItem\r\n                        key={transaction.id}\r\n                        transaction={transaction}\r\n                        onUpdateStatus={(status) => onUpdateTransactionStatus(transaction, status)}\r\n                        showActions={false}\r\n                      />\r\n                    ))\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}","import app from 'flarum/admin/app';\nimport Component from 'flarum/common/Component';\nimport Button from 'flarum/common/components/Button';\nimport Switch from 'flarum/common/components/Switch';\nimport Stream from 'flarum/common/utils/Stream';\nimport m from 'mithril';\nimport type Mithril from 'mithril';\nimport NetworkType from '../../../common/models/NetworkType';\n\nexport interface NetworkTypeListItemAttrs {\n  networkType: NetworkType;\n  onUpdate: (networkType: NetworkType, data: any) => Promise<void>;\n  onDelete: (networkType: NetworkType) => Promise<void>;\n}\n\nexport default class NetworkTypeListItem extends Component<NetworkTypeListItemAttrs> {\n  private editing = false;\n  private submitting = false;\n  private formData: Record<string, Stream<any>> = {};\n\n  oninit(vnode: Mithril.Vnode<NetworkTypeListItemAttrs>) {\n    super.oninit(vnode);\n    this.initFormData(vnode.attrs.networkType);\n  }\n\n  view(vnode: Mithril.Vnode<NetworkTypeListItemAttrs>) {\n    const { networkType } = vnode.attrs;\n\n    return (\n      <div className=\"NetworkTypeListItem\">\n        <div className=\"item-header\">\n          <div className=\"item-info\">\n            <div className=\"item-icon\">\n              {networkType.iconClass() ? (\n                <i className={networkType.iconClass()}></i>\n              ) : networkType.iconUrl() ? (\n                <img src={networkType.iconUrl()} alt={networkType.name()} style=\"width: 24px; height: 24px;\" />\n              ) : (\n                <i className=\"fas fa-network-wired\"></i>\n              )}\n            </div>\n            <div className=\"item-details\">\n              <h4>{networkType.name()}</h4>\n              <span className=\"code\">{networkType.code()}</span>\n              {networkType.description() && (\n                <p className=\"description\">{networkType.description()}</p>\n              )}\n            </div>\n          </div>\n          <div className=\"item-actions\">\n            <Button\n              className=\"Button Button--link\"\n              icon=\"fas fa-edit\"\n              onclick={() => this.toggleEdit()}\n              disabled={this.submitting}\n            >\n              {this.editing ? app.translator.trans('core.admin.basics.cancel_button') : app.translator.trans('core.admin.edit')}\n            </Button>\n            <Button\n              className=\"Button Button--link text-danger\"\n              icon=\"fas fa-trash\"\n              onclick={() => vnode.attrs.onDelete(networkType)}\n              disabled={this.submitting}\n            >\n              {app.translator.trans('core.admin.delete')}\n            </Button>\n          </div>\n        </div>\n\n        {this.editing && (\n          <div className=\"item-edit-form\">\n            <div className=\"Form\">\n              <div className=\"Form-row\">\n                <div className=\"Form-group\">\n                  <label>Name</label>\n                  <input\n                    type=\"text\"\n                    className=\"FormControl\"\n                    bidi={this.formData.name}\n                    disabled={this.submitting}\n                  />\n                </div>\n                <div className=\"Form-group\">\n                  <label>Code</label>\n                  <input\n                    type=\"text\"\n                    className=\"FormControl\"\n                    bidi={this.formData.code}\n                    disabled={this.submitting}\n                  />\n                </div>\n              </div>\n\n              <div className=\"Form-group\">\n                <label>Description</label>\n                <textarea\n                  className=\"FormControl\"\n                  rows={2}\n                  bidi={this.formData.description}\n                  disabled={this.submitting}\n                />\n              </div>\n\n              <div className=\"Form-row\">\n                <div className=\"Form-group\">\n                  <label>Icon URL</label>\n                  <input\n                    type=\"url\"\n                    className=\"FormControl\"\n                    bidi={this.formData.iconUrl}\n                    disabled={this.submitting}\n                  />\n                </div>\n                <div className=\"Form-group\">\n                  <label>Icon Class</label>\n                  <input\n                    type=\"text\"\n                    className=\"FormControl\"\n                    bidi={this.formData.iconClass}\n                    disabled={this.submitting}\n                  />\n                </div>\n              </div>\n\n              <div className=\"Form-group\">\n                <label>Sort Order</label>\n                <input\n                  type=\"number\"\n                  min=\"0\"\n                  className=\"FormControl\"\n                  bidi={this.formData.sortOrder}\n                  disabled={this.submitting}\n                />\n              </div>\n\n              <div className=\"Form-group\">\n                <Switch state={this.formData.isActive()} onchange={this.formData.isActive} disabled={this.submitting}>\n                  Active\n                </Switch>\n              </div>\n\n              <div className=\"Form-actions\">\n                <Button\n                  className=\"Button Button--primary\"\n                  loading={this.submitting}\n                  onclick={this.handleSave.bind(this, vnode.attrs)}\n                >\n                  {app.translator.trans('core.admin.basics.save_changes_button')}\n                </Button>\n                <Button\n                  className=\"Button\"\n                  onclick={() => this.toggleEdit()}\n                  disabled={this.submitting}\n                >\n                  {app.translator.trans('core.admin.basics.cancel_button')}\n                </Button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  private initFormData(networkType: NetworkType): void {\n    this.formData = {\n      name: Stream(networkType.name() || ''),\n      code: Stream(networkType.code() || ''),\n      description: Stream(networkType.description() || ''),\n      iconUrl: Stream(networkType.iconUrl() || ''),\n      iconClass: Stream(networkType.iconClass() || ''),\n      isActive: Stream(networkType.isActive() ?? true),\n      sortOrder: Stream(String(networkType.sortOrder() || 0))\n    };\n  }\n\n  private toggleEdit(): void {\n    this.editing = !this.editing;\n    if (!this.editing) {\n      // Reset form data when cancelling\n      this.initFormData(this.attrs.networkType);\n    }\n    m.redraw();\n  }\n\n  private async handleSave(attrs: NetworkTypeListItemAttrs): Promise<void> {\n    this.submitting = true;\n    m.redraw();\n\n    const data = {\n      name: this.formData.name(),\n      code: this.formData.code().toUpperCase(),\n      description: this.formData.description() || null,\n      iconUrl: this.formData.iconUrl() || null,\n      iconClass: this.formData.iconClass() || null,\n      isActive: this.formData.isActive(),\n      sortOrder: parseInt(this.formData.sortOrder()) || 0\n    };\n\n    try {\n      await attrs.onUpdate(attrs.networkType, data);\n      this.editing = false;\n    } catch {\n      // Error handling is done in parent\n    } finally {\n      this.submitting = false;\n      m.redraw();\n    }\n  }\n}","import app from 'flarum/admin/app';\nimport Component from 'flarum/common/Component';\nimport Button from 'flarum/common/components/Button';\nimport Switch from 'flarum/common/components/Switch';\nimport Stream from 'flarum/common/utils/Stream';\nimport type Mithril from 'mithril';\n\nexport interface NetworkTypeFormData {\n  name: string;\n  code: string;\n  description: string;\n  iconUrl: string;\n  iconClass: string;\n  isActive: boolean;\n  sortOrder: number;\n}\n\nexport interface AddNetworkTypeFormAttrs {\n  submitting: boolean;\n  onSubmit: (formData: NetworkTypeFormData) => Promise<void>;\n  onCancel: () => void;\n}\n\nexport default class AddNetworkTypeForm extends Component<AddNetworkTypeFormAttrs> {\n  private formData = {\n    name: Stream(''),\n    code: Stream(''),\n    description: Stream(''),\n    iconUrl: Stream(''),\n    iconClass: Stream(''),\n    isActive: Stream(true),\n    sortOrder: Stream('0')\n  };\n\n  view(vnode: Mithril.Vnode<AddNetworkTypeFormAttrs>) {\n    const { submitting, onCancel } = vnode.attrs;\n\n    return (\n      <div className=\"AddNetworkTypeForm\">\n        <div className=\"Form\">\n          <div className=\"Form-row\">\n            <div className=\"Form-group\">\n              <label>\n                {app.translator.trans('withdrawal.admin.network_types.name')}\n                <span className=\"Form-required\">*</span>\n              </label>\n              <input\n                type=\"text\"\n                className=\"FormControl\"\n                placeholder=\"e.g., TRON (TRC20)\"\n                bidi={this.formData.name}\n                disabled={submitting}\n              />\n            </div>\n            <div className=\"Form-group\">\n              <label>\n                {app.translator.trans('withdrawal.admin.network_types.code')}\n                <span className=\"Form-required\">*</span>\n              </label>\n              <input\n                type=\"text\"\n                className=\"FormControl\"\n                placeholder=\"e.g., TRC20\"\n                bidi={this.formData.code}\n                disabled={submitting}\n              />\n            </div>\n          </div>\n\n          <div className=\"Form-group\">\n            <label>\n              {app.translator.trans('withdrawal.admin.network_types.description')}\n            </label>\n            <textarea\n              className=\"FormControl\"\n              rows={3}\n              placeholder=\"Optional description of the network\"\n              bidi={this.formData.description}\n              disabled={submitting}\n            />\n          </div>\n\n          <div className=\"Form-row\">\n            <div className=\"Form-group\">\n              <label>\n                {app.translator.trans('withdrawal.admin.network_types.icon_url')}\n              </label>\n              <input\n                type=\"url\"\n                className=\"FormControl\"\n                placeholder=\"https://example.com/icon.png\"\n                bidi={this.formData.iconUrl}\n                disabled={submitting}\n              />\n            </div>\n            <div className=\"Form-group\">\n              <label>\n                {app.translator.trans('withdrawal.admin.network_types.icon_class')}\n              </label>\n              <input\n                type=\"text\"\n                className=\"FormControl\"\n                placeholder=\"fab fa-tron\"\n                bidi={this.formData.iconClass}\n                disabled={submitting}\n              />\n            </div>\n          </div>\n\n          <div className=\"Form-group\">\n            <label>\n              {app.translator.trans('withdrawal.admin.network_types.sort_order')}\n            </label>\n            <input\n              type=\"number\"\n              min=\"0\"\n              className=\"FormControl\"\n              placeholder=\"0\"\n              bidi={this.formData.sortOrder}\n              disabled={submitting}\n            />\n          </div>\n\n          <div className=\"Form-group\">\n            <Switch state={this.formData.isActive()} onchange={this.formData.isActive} disabled={submitting}>\n              {app.translator.trans('withdrawal.admin.network_types.is_active')}\n            </Switch>\n          </div>\n\n          <div className=\"Form-actions\">\n            <Button\n              className=\"Button Button--primary\"\n              type=\"submit\"\n              loading={submitting}\n              onclick={this.handleSubmit.bind(this, vnode.attrs)}\n            >\n              {app.translator.trans('withdrawal.admin.network_types.add_button')}\n            </Button>\n            <Button\n              className=\"Button\"\n              onclick={onCancel}\n              disabled={submitting}\n            >\n              {app.translator.trans('core.admin.basics.cancel_button')}\n            </Button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  private async handleSubmit(attrs: AddNetworkTypeFormAttrs): Promise<void> {\n    // Basic validation\n    if (!this.formData.name() || !this.formData.code()) {\n      app.alerts.show(\n        { type: 'error', dismissible: true },\n        app.translator.trans('withdrawal.admin.network_types.required_fields_error')\n      );\n      return;\n    }\n\n    const formData: NetworkTypeFormData = {\n      name: this.formData.name(),\n      code: this.formData.code().toUpperCase(),\n      description: this.formData.description(),\n      iconUrl: this.formData.iconUrl(),\n      iconClass: this.formData.iconClass(),\n      isActive: this.formData.isActive(),\n      sortOrder: parseInt(this.formData.sortOrder()) || 0\n    };\n\n    try {\n      await attrs.onSubmit(formData);\n      \n      // Reset form\n      Object.keys(this.formData).forEach(key => {\n        if (key === 'isActive') {\n          this.formData[key](true);\n        } else if (key === 'sortOrder') {\n          this.formData[key]('0');\n        } else {\n          this.formData[key]('');\n        }\n      });\n\n      attrs.onCancel();\n    } catch (error) {\n      // Error handling is done in parent component\n      console.error('Form submission error:', error);\n    }\n  }\n}","import app from 'flarum/admin/app';\nimport Component from 'flarum/common/Component';\nimport Button from 'flarum/common/components/Button';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\nimport type Mithril from 'mithril';\nimport NetworkType from '../../../common/models/NetworkType';\nimport NetworkTypeListItem from '../items/NetworkTypeListItem';\nimport AddNetworkTypeForm from '../forms/AddNetworkTypeForm';\n\ninterface NetworkTypeManagementSectionAttrs {}\n\nexport default class NetworkTypeManagementSection extends Component<NetworkTypeManagementSectionAttrs> {\n  private networkTypes: NetworkType[] = [];\n  private loading = false;\n  private showAddForm = false;\n\n  oninit(vnode: Mithril.Vnode<NetworkTypeManagementSectionAttrs>) {\n    super.oninit(vnode);\n    this.loadNetworkTypes();\n  }\n\n  view(): Mithril.Children {\n    return (\n      <div className=\"NetworkTypeManagementSection\">\n        <div className=\"section-header\">\n          <h3>{app.translator.trans('withdrawal.admin.network_types.title')}</h3>\n          <Button\n            className=\"Button Button--primary\"\n            icon=\"fas fa-plus\"\n            onclick={() => this.toggleAddForm()}\n          >\n            {app.translator.trans('withdrawal.admin.network_types.add_button')}\n          </Button>\n        </div>\n\n        {this.showAddForm && (\n          <div className=\"section-content\">\n            <AddNetworkTypeForm\n              submitting={this.loading}\n              onSubmit={this.handleAddNetworkType.bind(this)}\n              onCancel={() => this.toggleAddForm()}\n            />\n          </div>\n        )}\n\n        <div className=\"section-content\">\n          {this.loading && !this.networkTypes.length ? (\n            <LoadingIndicator />\n          ) : this.networkTypes.length === 0 ? (\n            <div className=\"empty-state\">\n              <p>{app.translator.trans('withdrawal.admin.network_types.empty')}</p>\n            </div>\n          ) : (\n            <div className=\"network-types-list\">\n              {this.networkTypes.map((networkType) => (\n                <NetworkTypeListItem\n                  key={networkType.id()}\n                  networkType={networkType}\n                  onUpdate={this.handleUpdateNetworkType.bind(this)}\n                  onDelete={this.handleDeleteNetworkType.bind(this)}\n                />\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n\n  private toggleAddForm(): void {\n    this.showAddForm = !this.showAddForm;\n    m.redraw();\n  }\n\n  private async loadNetworkTypes(): Promise<void> {\n    this.loading = true;\n    m.redraw();\n\n    try {\n      const response = await app.request({\n        method: 'GET',\n        url: app.forum.attribute('apiUrl') + '/network-types',\n      });\n\n      app.store.pushPayload(response);\n      this.networkTypes = app.store.all('network-types') as NetworkType[];\n    } catch (error) {\n      console.error('Failed to load network types:', error);\n      app.alerts.show(\n        { type: 'error', dismissible: true },\n        app.translator.trans('withdrawal.admin.network_types.load_error')\n      );\n    } finally {\n      this.loading = false;\n      m.redraw();\n    }\n  }\n\n  private async handleAddNetworkType(formData: any): Promise<void> {\n    this.loading = true;\n    m.redraw();\n\n    try {\n      const response = await app.request({\n        method: 'POST',\n        url: app.forum.attribute('apiUrl') + '/network-types',\n        body: {\n          data: {\n            type: 'network-types',\n            attributes: formData\n          }\n        }\n      });\n\n      app.store.pushPayload(response);\n      this.networkTypes = app.store.all('network-types') as NetworkType[];\n      this.showAddForm = false;\n\n      app.alerts.show(\n        { type: 'success', dismissible: true },\n        app.translator.trans('withdrawal.admin.network_types.created')\n      );\n    } catch (error) {\n      console.error('Failed to create network type:', error);\n      app.alerts.show(\n        { type: 'error', dismissible: true },\n        app.translator.trans('withdrawal.admin.network_types.create_error')\n      );\n      throw error;\n    } finally {\n      this.loading = false;\n      m.redraw();\n    }\n  }\n\n  private async handleUpdateNetworkType(networkType: NetworkType, data: any): Promise<void> {\n    try {\n      const response = await app.request({\n        method: 'PATCH',\n        url: app.forum.attribute('apiUrl') + '/network-types/' + networkType.id(),\n        body: {\n          data: {\n            type: 'network-types',\n            id: networkType.id(),\n            attributes: data\n          }\n        }\n      });\n\n      app.store.pushPayload(response);\n      m.redraw();\n\n      app.alerts.show(\n        { type: 'success', dismissible: true },\n        app.translator.trans('withdrawal.admin.network_types.updated')\n      );\n    } catch (error) {\n      console.error('Failed to update network type:', error);\n      app.alerts.show(\n        { type: 'error', dismissible: true },\n        app.translator.trans('withdrawal.admin.network_types.update_error')\n      );\n    }\n  }\n\n  private async handleDeleteNetworkType(networkType: NetworkType): Promise<void> {\n    if (!confirm(app.translator.trans('withdrawal.admin.network_types.delete_confirm'))) {\n      return;\n    }\n\n    try {\n      await app.request({\n        method: 'DELETE',\n        url: app.forum.attribute('apiUrl') + '/network-types/' + networkType.id()\n      });\n\n      // Remove from store and local array\n      this.networkTypes = this.networkTypes.filter(nt => nt.id() !== networkType.id());\n      app.store.remove(networkType);\n\n      app.alerts.show(\n        { type: 'success', dismissible: true },\n        app.translator.trans('withdrawal.admin.network_types.deleted')\n      );\n    } catch (error) {\n      console.error('Failed to delete network type:', error);\n      \n      let errorMessage = app.translator.trans('withdrawal.admin.network_types.delete_error');\n      if (error.responseJSON?.errors?.[0]?.detail) {\n        errorMessage = error.responseJSON.errors[0].detail;\n      }\n\n      app.alerts.show(\n        { type: 'error', dismissible: true },\n        errorMessage\n      );\n    } finally {\n      m.redraw();\n    }\n  }\n}","import Component from 'flarum/common/Component';\r\nimport Button from 'flarum/common/components/Button';\r\nimport icon from 'flarum/common/helpers/icon';\r\nimport type Mithril from 'mithril';\r\n\r\nexport interface ConfirmModalAttrs {\r\n  title: string;\r\n  message: string;\r\n  confirmText?: string;\r\n  cancelText?: string;\r\n  onConfirm: () => void;\r\n  onCancel: () => void;\r\n  dangerous?: boolean;\r\n  icon?: string;\r\n}\r\n\r\n/**\r\n * 通用确认模态框组件\r\n * 用于替代重复的删除确认、状态变更确认等模态框\r\n */\r\nexport default class ConfirmModal extends Component<ConfirmModalAttrs> {\r\n  view(vnode: Mithril.Vnode<ConfirmModalAttrs>) {\r\n    const { \r\n      title, \r\n      message, \r\n      confirmText = 'Confirm',\r\n      cancelText = 'Cancel',\r\n      onConfirm, \r\n      onCancel, \r\n      dangerous = false,\r\n      icon: modalIcon = dangerous ? 'fas fa-exclamation-triangle' : 'fas fa-question-circle'\r\n    } = vnode.attrs;\r\n\r\n    return (\r\n      <div className=\"Modal-dialog ConfirmModal\">\r\n        <div className=\"Modal-content\">\r\n          <div className=\"Modal-header\">\r\n            <h3 className=\"Modal-title\">\r\n              {modalIcon && (\r\n                <span className={`ConfirmModal-icon ${dangerous ? 'dangerous' : ''}`}>\r\n                  {icon(modalIcon)}\r\n                </span>\r\n              )}\r\n              {title}\r\n            </h3>\r\n          </div>\r\n          \r\n          <div className=\"Modal-body\">\r\n            <div className=\"ConfirmModal-message\">\r\n              {message}\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"Modal-footer\">\r\n            <div className=\"ButtonGroup\">\r\n              <Button\r\n                className=\"Button\"\r\n                onclick={onCancel}\r\n              >\r\n                {cancelText}\r\n              </Button>\r\n              <Button\r\n                className={`Button Button--${dangerous ? 'danger' : 'primary'}`}\r\n                onclick={onConfirm}\r\n              >\r\n                {confirmText}\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}","import app from 'flarum/admin/app';\r\nimport ExtensionPage from 'flarum/admin/components/ExtensionPage';\r\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\r\nimport m from 'mithril';\r\nimport type Mithril from 'mithril';\r\nimport { WithdrawalPlatform, WithdrawalRequest, User, PlatformFormData, DepositTransaction } from './types/AdminTypes';\r\nimport type DepositPlatform from '../../common/models/DepositPlatform';\r\nimport GeneralSettingsSection from './sections/GeneralSettingsSection';\r\nimport PlatformManagementSection from './sections/PlatformManagementSection';\r\nimport RequestManagementSection from './sections/RequestManagementSection';\r\nimport DepositManagementSection from './sections/DepositManagementSection';\r\nimport NetworkTypeManagementSection from './sections/NetworkTypeManagementSection';\r\nimport ConfirmModal from '../../common/components/shared/ConfirmModal';\r\n\r\nexport default class WithdrawalManagementPage extends ExtensionPage {\r\n  private platforms: WithdrawalPlatform[] = [];\r\n  private requests: WithdrawalRequest[] = [];\r\n  private depositPlatforms: DepositPlatform[] = [];\r\n  private depositTransactions: DepositTransaction[] = [];\r\n  private users: { [key: number]: User } = {};\r\n  private loading = true;\r\n  private submittingPlatform = false;\r\n  private activeTab = 'withdrawals';\r\n\r\n  oninit(vnode: Mithril.VnodeDOM) {\r\n    super.oninit(vnode);\r\n    this.loadData();\r\n  }\r\n\r\n  content() {\r\n    if (this.loading) {\r\n      return <LoadingIndicator />;\r\n    }\r\n\r\n    return (\r\n      <div className=\"WithdrawalManagementPage\">\r\n        <div className=\"container\">\r\n          <h2>{app.translator.trans('withdrawal.admin.page.title')}</h2>\r\n          \r\n          <GeneralSettingsSection onSettingChange={this.saveSetting.bind(this)} />\r\n          \r\n          <div className=\"AdminTabs\">\r\n            <div className=\"AdminTabs-nav\">\r\n              <button \r\n                className={`AdminTabs-tab ${this.activeTab === 'withdrawals' ? 'active' : ''}`}\r\n                onclick={() => { this.activeTab = 'withdrawals'; }}\r\n              >\r\n                {app.translator.trans('withdrawal.admin.tabs.withdrawals')}\r\n              </button>\r\n              <button \r\n                className={`AdminTabs-tab ${this.activeTab === 'deposits' ? 'active' : ''}`}\r\n                onclick={() => { this.activeTab = 'deposits'; }}\r\n              >\r\n                {app.translator.trans('withdrawal.admin.tabs.deposits')}\r\n              </button>\r\n              <button \r\n                className={`AdminTabs-tab ${this.activeTab === 'network-types' ? 'active' : ''}`}\r\n                onclick={() => { this.activeTab = 'network-types'; }}\r\n              >\r\n                {app.translator.trans('withdrawal.admin.tabs.network_types')}\r\n              </button>\r\n            </div>\r\n            \r\n            <div className=\"AdminTabs-content\">\r\n              {this.activeTab === 'withdrawals' ? (\r\n                <div>\r\n                  <PlatformManagementSection\r\n                    platforms={this.platforms}\r\n                    submittingPlatform={this.submittingPlatform}\r\n                    onAddPlatform={this.addPlatform.bind(this)}\r\n                    onTogglePlatformStatus={this.togglePlatformStatus.bind(this)}\r\n                    onDeletePlatform={this.deletePlatform.bind(this)}\r\n                  />\r\n                  \r\n                  <RequestManagementSection\r\n                    requests={this.requests}\r\n                    onUpdateRequestStatus={this.updateRequestStatus.bind(this)}\r\n                    onDeleteRequest={this.deleteRequest.bind(this)}\r\n                  />\r\n                </div>\r\n              ) : this.activeTab === 'deposits' ? (\r\n                <DepositManagementSection\r\n                  platforms={this.depositPlatforms}\r\n                  transactions={this.depositTransactions}\r\n                  submittingPlatform={this.submittingPlatform}\r\n                  onAddPlatform={this.addDepositPlatform.bind(this)}\r\n                  onTogglePlatformStatus={this.toggleDepositPlatformStatus.bind(this)}\r\n                  onDeletePlatform={this.deleteDepositPlatform.bind(this)}\r\n                  onUpdateTransactionStatus={this.updateDepositTransactionStatus.bind(this)}\r\n                />\r\n              ) : this.activeTab === 'network-types' ? (\r\n                <NetworkTypeManagementSection />\r\n              ) : null}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  private async addPlatform(formData: PlatformFormData): Promise<void> {\r\n    if (this.submittingPlatform) return;\r\n\r\n    this.submittingPlatform = true;\r\n\r\n    try {\r\n      const response = await app.request({\r\n        method: 'POST',\r\n        url: app.forum.attribute('apiUrl') + '/withdrawal-platforms',\r\n        body: {\r\n          data: {\r\n            type: 'withdrawal-platforms',\r\n            attributes: {\r\n              name: formData.name,\r\n              symbol: formData.symbol,\r\n              network: formData.network || null,\r\n              minAmount: parseFloat(formData.minAmount),\r\n              maxAmount: parseFloat(formData.maxAmount),\r\n              fee: parseFloat(formData.fee || '0'),\r\n              iconUrl: formData.iconUrl || null,\r\n              iconClass: formData.iconClass || null,\r\n              isActive: true\r\n            }\r\n          }\r\n        }\r\n      });\r\n      \r\n      if (response && response.data) {\r\n        app.store.pushPayload(response);\r\n      }\r\n      \r\n      await this.loadPlatforms();\r\n      \r\n      app.alerts.show(\r\n        { type: 'success', dismissible: true },\r\n        app.translator.trans('withdrawal.admin.platforms.add_success')\r\n      );\r\n    } catch (error) {\r\n      console.error('Error adding platform:', error);\r\n      app.alerts.show(\r\n        { type: 'error', dismissible: true },\r\n        app.translator.trans('withdrawal.admin.platforms.add_error')\r\n      );\r\n    } finally {\r\n      this.submittingPlatform = false;\r\n      m.redraw();\r\n    }\r\n  }\r\n\r\n  private async togglePlatformStatus(platform: WithdrawalPlatform): Promise<void> {\r\n    try {\r\n      const platformId = typeof platform.id === 'function' ? platform.id() : platform.id;\r\n      const currentStatus = (typeof platform.isActive === 'function' ? platform.isActive() : platform.attributes?.isActive) ?? false;\r\n      const record = app.store.getById('withdrawal-platforms', platformId);\r\n      \r\n      if (record) {\r\n        await record.save({ isActive: !currentStatus });\r\n        await this.loadPlatforms();\r\n        m.redraw();\r\n        \r\n        app.alerts.show(\r\n          { type: 'success', dismissible: true },\r\n          app.translator.trans(`withdrawal.admin.platforms.${!currentStatus ? 'enable' : 'disable'}_success`)\r\n        );\r\n      }\r\n    } catch (error) {\r\n      console.error('Error toggling platform status:', error);\r\n      app.alerts.show(\r\n        { type: 'error', dismissible: true },\r\n        app.translator.trans('withdrawal.admin.platforms.toggle_error')\r\n      );\r\n    }\r\n  }\r\n\r\n  private deletePlatform(platform: WithdrawalPlatform): void {\r\n    const platformName = (typeof platform.name === 'function' ? platform.name() : platform.attributes?.name) || 'Unknown Platform';\r\n    \r\n    app.modal.show(ConfirmModal, {\r\n      title: app.translator.trans('withdrawal.admin.platforms.delete_confirm_title'),\r\n      message: app.translator.trans('withdrawal.admin.platforms.delete_confirm_message', { name: platformName }),\r\n      confirmText: app.translator.trans('withdrawal.admin.platforms.delete_confirm_button'),\r\n      cancelText: app.translator.trans('withdrawal.admin.platforms.delete_cancel_button'),\r\n      dangerous: true,\r\n      icon: 'fas fa-trash',\r\n      onConfirm: async () => {\r\n        try {\r\n          const platformId = typeof platform.id === 'function' ? platform.id() : platform.id;\r\n          const record = app.store.getById('withdrawal-platforms', platformId);\r\n          if (record) {\r\n            await record.delete();\r\n            await this.loadPlatforms();\r\n            m.redraw();\r\n            \r\n            app.alerts.show(\r\n              { type: 'success', dismissible: true },\r\n              app.translator.trans('withdrawal.admin.platforms.delete_success')\r\n            );\r\n          }\r\n        } catch (error) {\r\n          console.error('Error deleting platform:', error);\r\n          app.alerts.show(\r\n            { type: 'error', dismissible: true },\r\n            app.translator.trans('withdrawal.admin.platforms.delete_error')\r\n          );\r\n        }\r\n      },\r\n      onCancel: () => {\r\n        app.modal.close();\r\n      }\r\n    });\r\n  }\r\n\r\n  private async updateRequestStatus(request: WithdrawalRequest, status: string): Promise<void> {\r\n    try {\r\n      const requestId = typeof request.id === 'function' ? request.id() : request.id;\r\n      const record = app.store.getById('withdrawal-requests', requestId);\r\n      if (record) {\r\n        await record.save({ status });\r\n        await this.loadRequests();\r\n        \r\n        app.alerts.show(\r\n          { type: 'success', dismissible: true },\r\n          app.translator.trans(`withdrawal.admin.requests.${status}_success`)\r\n        );\r\n      }\r\n    } catch (error) {\r\n      console.error('Error updating request:', error);\r\n      app.alerts.show(\r\n        { type: 'error', dismissible: true },\r\n        app.translator.trans('withdrawal.admin.requests.update_error')\r\n      );\r\n    }\r\n  }\r\n\r\n  private deleteRequest(request: WithdrawalRequest): void {\r\n    const requestId = typeof request.id === 'function' ? request.id() : request.id;\r\n    const amount = typeof request.amount === 'function' ? request.amount() : (request.attributes?.amount || 0);\r\n    \r\n    // Get user name for display in confirmation\r\n    let userName = 'Unknown User';\r\n    if (typeof request.user === 'function') {\r\n      const userData = request.user();\r\n      if (userData && typeof userData.displayName === 'function') {\r\n        userName = userData.displayName();\r\n      } else if (userData && userData.attributes?.displayName) {\r\n        userName = userData.attributes.displayName;\r\n      }\r\n    }\r\n    \r\n    app.modal.show(ConfirmModal, {\r\n      title: app.translator.trans('withdrawal.admin.requests.delete_confirm_title'),\r\n      message: app.translator.trans('withdrawal.admin.requests.delete_confirm_message', { info: `${userName} - ${amount}` }),\r\n      confirmText: app.translator.trans('withdrawal.admin.requests.delete_confirm_button'),\r\n      cancelText: app.translator.trans('withdrawal.admin.requests.delete_cancel_button'),\r\n      dangerous: true,\r\n      icon: 'fas fa-trash',\r\n      onConfirm: async () => {\r\n        try {\r\n          const record = app.store.getById('withdrawal-requests', requestId);\r\n          if (record) {\r\n            await record.delete();\r\n            await this.loadRequests();\r\n            \r\n            app.alerts.show(\r\n              { type: 'success', dismissible: true },\r\n              app.translator.trans('withdrawal.admin.requests.delete_success')\r\n            );\r\n          }\r\n        } catch (error) {\r\n          console.error('Error deleting request:', error);\r\n          app.alerts.show(\r\n            { type: 'error', dismissible: true },\r\n            app.translator.trans('withdrawal.admin.requests.delete_error')\r\n          );\r\n        }\r\n      },\r\n      onCancel: () => {\r\n        app.modal.close();\r\n      }\r\n    });\r\n  }\r\n\r\n  private async loadData(): Promise<void> {\r\n    try {\r\n      // Load platforms first to ensure they're in the store\r\n      await this.loadPlatforms();\r\n      // Then load requests which reference platforms\r\n      await this.loadRequests();\r\n      // Load deposit data\r\n      await this.loadDepositPlatforms();\r\n      await this.loadDepositTransactions();\r\n    } catch (error) {\r\n      console.error('Error loading data:', error);\r\n    } finally {\r\n      this.loading = false;\r\n      m.redraw();\r\n    }\r\n  }\r\n\r\n  private async loadPlatforms(): Promise<void> {\r\n    try {\r\n      const response = await app.store.find('withdrawal-platforms');\r\n      this.platforms = Array.isArray(response) ? response.filter(p => p !== null) : (response ? [response] : []);\r\n      \r\n      console.log('Loaded platforms:', this.platforms);\r\n    } catch (error) {\r\n      console.error('Error loading platforms:', error);\r\n      this.platforms = [];\r\n    }\r\n  }\r\n\r\n  private async loadRequests(): Promise<void> {\r\n    try {\r\n      const response = await app.store.find('withdrawal-requests', {\r\n        include: 'user,platform'\r\n      });\r\n      this.requests = Array.isArray(response) ? response.filter(r => r !== null) : (response ? [response] : []);\r\n      \r\n      console.log('Loaded requests:', this.requests);\r\n    } catch (error) {\r\n      console.error('Error loading requests:', error);\r\n      this.requests = [];\r\n    }\r\n    \r\n    // Load user data for each request - skip if no requests\r\n    if (this.requests.length === 0) {\r\n      return;\r\n    }\r\n    \r\n    const userIds = [...new Set(this.requests\r\n      .map(r => {\r\n        // Check both data.relationships and direct relationships structures\r\n        const userRelation = r?.data?.relationships?.user?.data || r?.relationships?.user?.data;\r\n        if (userRelation) {\r\n          return userRelation.id;\r\n        }\r\n        return null;\r\n      })\r\n      .filter(id => id !== null && id !== undefined)\r\n    )];\r\n    const usersToLoad = userIds.filter(userId => !this.users[userId]);\r\n    \r\n    if (usersToLoad.length > 0) {\r\n      try {\r\n        const userPromises = usersToLoad.map(userId => \r\n          app.store.find('users', userId).catch(error => {\r\n            console.error(`Error loading user ${userId}:`, error);\r\n            return null;\r\n          })\r\n        );\r\n        \r\n        const loadedUsers = await Promise.all(userPromises);\r\n        \r\n        usersToLoad.forEach((userId, index) => {\r\n          if (loadedUsers[index]) {\r\n            this.users[userId] = loadedUsers[index];\r\n          }\r\n        });\r\n      } catch (error) {\r\n        console.error('Error loading users:', error);\r\n      }\r\n    }\r\n  }\r\n\r\n  private async saveSetting(key: string, value: string): Promise<void> {\r\n    try {\r\n      await app.request({\r\n        method: 'POST',\r\n        url: app.forum.attribute('apiUrl') + '/settings',\r\n        body: { [key]: value }\r\n      });\r\n      \r\n      // Update the forum attribute immediately so the UI reflects the change\r\n      app.forum.pushAttributes({ [key]: value });\r\n      \r\n    } catch (error) {\r\n      console.error('Error saving setting:', error);\r\n      app.alerts.show(\r\n        { type: 'error', dismissible: true },\r\n        'Failed to save setting'\r\n      );\r\n    }\r\n  }\r\n\r\n  // Deposit management methods\r\n  private async addDepositPlatform(formData: any): Promise<void> {\r\n    if (this.submittingPlatform) return;\r\n\r\n    this.submittingPlatform = true;\r\n\r\n    try {\r\n      const response = await app.request({\r\n        method: 'POST',\r\n        url: app.forum.attribute('apiUrl') + '/deposit-platforms',\r\n        body: {\r\n          data: {\r\n            type: 'deposit-platforms',\r\n            attributes: {\r\n              name: formData.name,\r\n              symbol: formData.symbol,\r\n              network: formData.network,\r\n              minAmount: parseFloat(formData.minAmount) || 0,\r\n              maxAmount: formData.maxAmount ? parseFloat(formData.maxAmount) : null,\r\n              address: formData.address || null,\r\n              qrCodeImageUrl: formData.qrCodeImageUrl || null,\r\n              iconUrl: formData.iconUrl || null,\r\n              iconClass: formData.iconClass || null,\r\n              warningText: formData.warningText || null,\r\n              isActive: formData.isActive\r\n            }\r\n          }\r\n        }\r\n      });\r\n      \r\n      if (response && response.data) {\r\n        app.store.pushPayload(response);\r\n      }\r\n      \r\n      await this.loadDepositPlatforms();\r\n      \r\n      app.alerts.show(\r\n        { type: 'success', dismissible: true },\r\n        app.translator.trans('withdrawal.admin.deposit.platforms.add_success')\r\n      );\r\n    } catch (error) {\r\n      console.error('Error adding deposit platform:', error);\r\n      app.alerts.show(\r\n        { type: 'error', dismissible: true },\r\n        app.translator.trans('withdrawal.admin.deposit.platforms.add_error')\r\n      );\r\n    } finally {\r\n      this.submittingPlatform = false;\r\n    }\r\n  }\r\n\r\n  private async toggleDepositPlatformStatus(platform: DepositPlatform): Promise<void> {\r\n    try {\r\n      const response = await app.request({\r\n        method: 'PATCH',\r\n        url: `${app.forum.attribute('apiUrl')}/deposit-platforms/${platform.id}`,\r\n        body: {\r\n          data: {\r\n            type: 'deposit-platforms',\r\n            attributes: {\r\n              isActive: !platform.isActive\r\n            }\r\n          }\r\n        }\r\n      });\r\n\r\n      if (response && response.data) {\r\n        app.store.pushPayload(response);\r\n      }\r\n\r\n      await this.loadDepositPlatforms();\r\n      \r\n      const statusKey = !platform.isActive ? 'enable_success' : 'disable_success';\r\n      app.alerts.show(\r\n        { type: 'success', dismissible: true },\r\n        app.translator.trans(`withdrawal.admin.deposit.platforms.${statusKey}`)\r\n      );\r\n    } catch (error) {\r\n      console.error('Error toggling platform status:', error);\r\n      app.alerts.show(\r\n        { type: 'error', dismissible: true },\r\n        app.translator.trans('withdrawal.admin.deposit.platforms.toggle_error')\r\n      );\r\n    }\r\n  }\r\n\r\n  private deleteDepositPlatform(platform: DepositPlatform): void {\r\n    app.modal.show(ConfirmModal, {\r\n      title: app.translator.trans('withdrawal.admin.platforms.delete_confirm_title'),\r\n      message: app.translator.trans('withdrawal.admin.platforms.delete_confirm_message', { name: platform.name() }),\r\n      confirmText: app.translator.trans('withdrawal.admin.platforms.delete_confirm_button'),\r\n      cancelText: app.translator.trans('withdrawal.admin.platforms.delete_cancel_button'),\r\n      dangerous: true,\r\n      icon: 'fas fa-trash',\r\n      onConfirm: async () => {\r\n        try {\r\n          await app.request({\r\n            method: 'DELETE',\r\n            url: `${app.forum.attribute('apiUrl')}/deposit-platforms/${platform.id()}`\r\n          });\r\n\r\n          await this.loadDepositPlatforms();\r\n          \r\n          app.alerts.show(\r\n            { type: 'success', dismissible: true },\r\n            app.translator.trans('withdrawal.admin.deposit.platforms.delete_success')\r\n          );\r\n        } catch (error) {\r\n          console.error('Error deleting deposit platform:', error);\r\n          app.alerts.show(\r\n            { type: 'error', dismissible: true },\r\n            app.translator.trans('withdrawal.admin.deposit.platforms.delete_error')\r\n          );\r\n        }\r\n      },\r\n      onCancel: () => {\r\n        app.modal.close();\r\n      }\r\n    });\r\n  }\r\n\r\n  private async updateDepositTransactionStatus(transaction: DepositTransaction, status: string): Promise<void> {\r\n    try {\r\n      const response = await app.request({\r\n        method: 'PATCH',\r\n        url: `${app.forum.attribute('apiUrl')}/deposit-transactions/${transaction.id}`,\r\n        body: {\r\n          data: {\r\n            type: 'deposit-transactions',\r\n            attributes: {\r\n              status: status\r\n            }\r\n          }\r\n        }\r\n      });\r\n\r\n      if (response && response.data) {\r\n        app.store.pushPayload(response);\r\n      }\r\n\r\n      await this.loadDepositTransactions();\r\n      \r\n      app.alerts.show(\r\n        { type: 'success', dismissible: true },\r\n        app.translator.trans(`withdrawal.admin.deposit.transactions.${status}_success`)\r\n      );\r\n    } catch (error) {\r\n      console.error('Error updating deposit transaction:', error);\r\n      app.alerts.show(\r\n        { type: 'error', dismissible: true },\r\n        app.translator.trans('withdrawal.admin.deposit.transactions.update_error')\r\n      );\r\n    }\r\n  }\r\n\r\n  private async loadDepositPlatforms(): Promise<void> {\r\n    try {\r\n      const response = await app.request({\r\n        method: 'GET',\r\n        url: app.forum.attribute('apiUrl') + '/deposit-platforms'\r\n      });\r\n\r\n      app.store.pushPayload(response);\r\n      this.depositPlatforms = app.store.all('deposit-platforms');\r\n      \r\n      console.log('Loaded deposit platforms:', this.depositPlatforms);\r\n    } catch (error) {\r\n      console.error('Error loading deposit platforms:', error);\r\n      this.depositPlatforms = [];\r\n    }\r\n  }\r\n\r\n  private async loadDepositTransactions(): Promise<void> {\r\n    try {\r\n      const response = await app.request({\r\n        method: 'GET',\r\n        url: app.forum.attribute('apiUrl') + '/deposit-transactions'\r\n      });\r\n\r\n      app.store.pushPayload(response);\r\n      this.depositTransactions = app.store.all('deposit-transactions');\r\n      \r\n      console.log('Loaded deposit transactions:', this.depositTransactions);\r\n    } catch (error) {\r\n      console.error('Error loading deposit transactions:', error);\r\n      this.depositTransactions = [];\r\n    }\r\n  }\r\n}\r\n\r\n","import Model from 'flarum/common/Model';\r\n\r\n/**\r\n * WithdrawalPlatform model for Flarum\r\n * \r\n * This model represents a withdrawal platform that users can use\r\n * to withdraw their virtual currency.\r\n */\r\nexport default class WithdrawalPlatform extends Model {\r\n  // Basic attributes\r\n  name = Model.attribute<string>('name');\r\n  symbol = Model.attribute<string>('symbol');\r\n  network = Model.attribute<string | null>('network');\r\n  displayName = Model.attribute<string>('displayName');\r\n  minAmount = Model.attribute<number>('minAmount');\r\n  maxAmount = Model.attribute<number>('maxAmount');\r\n  fee = Model.attribute<number>('fee');\r\n  \r\n  // Optional attributes\r\n  iconUrl = Model.attribute<string | null>('iconUrl');\r\n  iconClass = Model.attribute<string | null>('iconClass');\r\n  \r\n  // Status\r\n  isActive = Model.attribute<boolean>('isActive');\r\n  \r\n  // Timestamps\r\n  createdAt = Model.attribute('createdAt', Model.transformDate);\r\n  updatedAt = Model.attribute('updatedAt', Model.transformDate);\r\n  \r\n  // Computed properties\r\n  apiEndpoint() {\r\n    return `/withdrawal-platforms/${this.id()}`;\r\n  }\r\n  \r\n  // Helper methods\r\n  getDisplayName(): string {\r\n    return this.displayName() || this.name();\r\n  }\r\n  \r\n  isValidAmount(amount: number): boolean {\r\n    const min = this.minAmount();\r\n    const max = this.maxAmount();\r\n    return amount >= min && amount <= max;\r\n  }\r\n  \r\n  getTotalCost(amount: number): number {\r\n    return amount + this.fee();\r\n  }\r\n}","/**\r\n * Shared type definitions for the Withdrawal extension\r\n */\r\n\r\n/**\r\n * Withdrawal platform data structure\r\n */\r\nexport interface WithdrawalPlatformData {\r\n  id: string | number;\r\n  name: string;\r\n  symbol: string;\r\n  minAmount: number;\r\n  maxAmount: number;\r\n  fee: number;\r\n  iconUrl?: string | null;\r\n  iconClass?: string | null;\r\n  isActive: boolean;\r\n  createdAt?: string;\r\n  updatedAt?: string;\r\n}\r\n\r\n/**\r\n * Withdrawal request data structure\r\n */\r\nexport interface WithdrawalRequestData {\r\n  id: string | number;\r\n  amount: number;\r\n  accountDetails: string;\r\n  status: 'pending' | 'approved' | 'rejected';\r\n  platformId: number;\r\n  userId: number;\r\n  createdAt?: string;\r\n  updatedAt?: string;\r\n}\r\n\r\n/**\r\n * User withdrawal data extension\r\n */\r\nexport interface UserWithdrawalData {\r\n  money?: number;\r\n  withdrawalRequests?: WithdrawalRequestData[];\r\n}\r\n\r\n/**\r\n * API response structures\r\n */\r\nexport interface ApiSuccessResponse<T = any> {\r\n  data: T;\r\n}\r\n\r\nexport interface ApiErrorResponse {\r\n  errors: Array<{\r\n    status: string;\r\n    code: string;\r\n    title: string;\r\n    detail?: string;\r\n  }>;\r\n}\r\n\r\n/**\r\n * Form validation errors\r\n */\r\nexport interface ValidationErrors {\r\n  [field: string]: string[];\r\n}\r\n\r\n/**\r\n * Configuration constants\r\n */\r\nexport const WITHDRAWAL_STATUS = {\r\n  PENDING: 'pending',\r\n  APPROVED: 'approved',\r\n  REJECTED: 'rejected',\r\n} as const;\r\n\r\nexport type WithdrawalStatus = typeof WITHDRAWAL_STATUS[keyof typeof WITHDRAWAL_STATUS];\r\n\r\n/**\r\n * Default values\r\n */\r\nexport const DEFAULT_MIN_AMOUNT = 0.001;\r\nexport const DEFAULT_MAX_AMOUNT = 10;\r\nexport const DEFAULT_FEE = 0.0005;\r\n\r\n/**\r\n * Helper type guards\r\n */\r\nexport function isWithdrawalPlatform(obj: any): obj is WithdrawalPlatformData {\r\n  return obj &&\r\n    typeof obj === 'object' &&\r\n    'id' in obj &&\r\n    'name' in obj &&\r\n    'symbol' in obj &&\r\n    'minAmount' in obj &&\r\n    'maxAmount' in obj;\r\n}\r\n\r\nexport function isWithdrawalRequest(obj: any): obj is WithdrawalRequestData {\r\n  return obj &&\r\n    typeof obj === 'object' &&\r\n    'id' in obj &&\r\n    'amount' in obj &&\r\n    'accountDetails' in obj &&\r\n    'status' in obj &&\r\n    'platformId' in obj &&\r\n    'userId' in obj;\r\n}","import Model from 'flarum/common/Model';\r\nimport User from 'flarum/common/models/User';\r\nimport WithdrawalPlatform from './WithdrawalPlatform';\r\nimport { WithdrawalStatus, WITHDRAWAL_STATUS } from '../types';\r\n\r\n/**\r\n * WithdrawalRequest model for Flarum\r\n * \r\n * This model represents a user's withdrawal request.\r\n */\r\nexport default class WithdrawalRequest extends Model {\r\n  // Basic attributes\r\n  amount = Model.attribute<number>('amount');\r\n  accountDetails = Model.attribute<string>('accountDetails');\r\n  message = Model.attribute<string>('message');\r\n  status = Model.attribute<WithdrawalStatus>('status');\r\n  \r\n  // Foreign keys\r\n  platformId = Model.attribute<number>('platformId');\r\n  userId = Model.attribute<number>('userId');\r\n  \r\n  // Timestamps\r\n  createdAt = Model.attribute('createdAt', Model.transformDate);\r\n  updatedAt = Model.attribute('updatedAt', Model.transformDate);\r\n  \r\n  // Relationships\r\n  user = Model.hasOne<User>('user');\r\n  platform = Model.hasOne<WithdrawalPlatform>('platform');\r\n  \r\n  // Computed properties\r\n  apiEndpoint() {\r\n    return `/withdrawal-requests/${this.id()}`;\r\n  }\r\n  \r\n  // Status helpers\r\n  isPending(): boolean {\r\n    return this.status() === WITHDRAWAL_STATUS.PENDING;\r\n  }\r\n  \r\n  isApproved(): boolean {\r\n    return this.status() === WITHDRAWAL_STATUS.APPROVED;\r\n  }\r\n  \r\n  isRejected(): boolean {\r\n    return this.status() === WITHDRAWAL_STATUS.REJECTED;\r\n  }\r\n  \r\n  canBeModified(): boolean {\r\n    return this.isPending();\r\n  }\r\n  \r\n  // Display helpers\r\n  statusLabel(): string {\r\n    const status = this.status();\r\n    return app.translator.trans(`withdrawal.forum.status.${status}`);\r\n  }\r\n  \r\n  statusColor(): string {\r\n    const status = this.status();\r\n    switch (status) {\r\n      case WITHDRAWAL_STATUS.APPROVED:\r\n        return 'success';\r\n      case WITHDRAWAL_STATUS.REJECTED:\r\n        return 'danger';\r\n      case WITHDRAWAL_STATUS.PENDING:\r\n      default:\r\n        return 'warning';\r\n    }\r\n  }\r\n}","import Model from 'flarum/common/Model';\r\n\r\nexport default class DepositPlatform extends Model {\r\n  name = Model.attribute<string>('name');\r\n  symbol = Model.attribute<string>('symbol');\r\n  network = Model.attribute<string>('network');\r\n  networkTypeId = Model.attribute('networkTypeId');\r\n  displayName = Model.attribute<string>('displayName');\r\n  minAmount = Model.attribute('minAmount');\r\n  maxAmount = Model.attribute('maxAmount');\r\n  address = Model.attribute('address');\r\n  qrCodeImageUrl = Model.attribute<string>('qrCodeImageUrl');\r\n  iconUrl = Model.attribute<string>('iconUrl');\r\n  iconClass = Model.attribute<string>('iconClass');\r\n  warningText = Model.attribute<string>('warningText');\r\n  networkConfig = Model.attribute('networkConfig');\r\n  isActive = Model.attribute('isActive');\r\n  createdAt = Model.attribute('createdAt', Model.transformDate);\r\n  updatedAt = Model.attribute('updatedAt', Model.transformDate);\r\n}","import Model from 'flarum/common/Model';\r\nimport User from 'flarum/common/models/User';\r\nimport DepositPlatform from './DepositPlatform';\r\nimport DepositAddress from './DepositAddress';\r\n\r\nexport default class DepositTransaction extends Model {\r\n  amount = Model.attribute('amount');\r\n  fee = Model.attribute('fee');\r\n  creditedAmount = Model.attribute('creditedAmount');\r\n  transactionHash = Model.attribute('transactionHash');\r\n  fromAddress = Model.attribute('fromAddress');\r\n  memo = Model.attribute('memo');\r\n  userMessage = Model.attribute('userMessage');\r\n  status = Model.attribute('status');\r\n  statusColor = Model.attribute('statusColor');\r\n  blockchainData = Model.attribute('blockchainData');\r\n  confirmations = Model.attribute('confirmations');\r\n  requiredConfirmations = Model.attribute('requiredConfirmations');\r\n  hasEnoughConfirmations = Model.attribute('hasEnoughConfirmations');\r\n  canBeCompleted = Model.attribute('canBeCompleted');\r\n  explorerUrl = Model.attribute('explorerUrl');\r\n  detectedAt = Model.attribute('detectedAt', Model.transformDate);\r\n  confirmedAt = Model.attribute('confirmedAt', Model.transformDate);\r\n  completedAt = Model.attribute('completedAt', Model.transformDate);\r\n  adminNotes = Model.attribute('adminNotes');\r\n  createdAt = Model.attribute('createdAt', Model.transformDate);\r\n  updatedAt = Model.attribute('updatedAt', Model.transformDate);\r\n\r\n  user = Model.hasOne<User>('user');\r\n  platform = Model.hasOne<DepositPlatform>('platform');\r\n  depositAddress = Model.hasOne<DepositAddress>('depositAddress');\r\n  processedBy = Model.hasOne<User>('processedBy');\r\n}","import Model from 'flarum/common/Model';\n\nexport default class NetworkType extends Model {\n  id = Model.attribute<number>('id');\n  name = Model.attribute<string>('name');\n  code = Model.attribute<string>('code');\n  description = Model.attribute<string>('description');\n  iconUrl = Model.attribute<string>('iconUrl');\n  iconClass = Model.attribute<string>('iconClass');\n  config = Model.attribute<Record<string, any>>('config');\n  isActive = Model.attribute<boolean>('isActive');\n  sortOrder = Model.attribute<number>('sortOrder');\n  createdAt = Model.attribute<Date>('createdAt', Model.transformDate);\n  updatedAt = Model.attribute<Date>('updatedAt', Model.transformDate);\n}","import app from 'flarum/admin/app';\r\nimport WithdrawalManagementPage from './components/WithdrawalManagementPage';\r\nimport WithdrawalPlatform from '../common/models/WithdrawalPlatform';\r\nimport WithdrawalRequest from '../common/models/WithdrawalRequest';\r\nimport DepositPlatform from '../common/models/DepositPlatform';\r\nimport DepositTransaction from '../common/models/DepositTransaction';\r\nimport NetworkType from '../common/models/NetworkType';\r\n\r\napp.initializers.add('wusong8899-withdrawal', () => {\r\n  // Register models in store\r\n  app.store.models['withdrawal-platforms'] = WithdrawalPlatform;\r\n  app.store.models['withdrawal-requests'] = WithdrawalRequest;\r\n  app.store.models['deposit-platforms'] = DepositPlatform;\r\n  app.store.models['deposit-transactions'] = DepositTransaction;\r\n  app.store.models['network-types'] = NetworkType;\r\n\r\n  app.extensionData\r\n    .for('wusong8899-withdrawal')\r\n    .registerPage(WithdrawalManagementPage);\r\n});"],"names":["GeneralSettingsSection","Component","app","withAttr","value","FormValidator","fieldName","displayName","minLength","min","max","numValue","_url","condition","message","AddPlatformForm","Stream","m","Button","validator","minVal","error","formData","PlatformListItem","platform","platformId","platformName","network","minAmount","maxAmount","fee","isActive","createdDate","dateDisplay","humanTime","e","PlatformManagementSection","platforms","submittingPlatform","onAddPlatform","onTogglePlatformStatus","onDeletePlatform","WithdrawalRequestItem","request","showActions","showDelete","requestId","amount","status","accountDetails","userName","userData","platformSymbol","statusClass","RequestManagementSection","requests","onUpdateRequestStatus","onDeleteRequest","pendingRequests","r","processedRequests","AddDepositPlatformForm","vnode","submitting","onCancel","networkTypeId","networkType","nt","Switch","response","maxVal","attrs","key","DepositPlatformListItem","onToggleStatus","onDelete","icon","DepositTransactionItem","transaction","onUpdateStatus","username","actions","hash","DepositManagementSection","transactions","onUpdateTransactionStatus","pendingTransactions","t","completedTransactions","NetworkTypeListItem","data","AddNetworkTypeForm","NetworkTypeManagementSection","LoadingIndicator","errorMessage","ConfirmModal","title","confirmText","cancelText","onConfirm","dangerous","modalIcon","WithdrawalManagementPage","ExtensionPage","currentStatus","record","p","usersToLoad","userRelation","id","userId","userPromises","loadedUsers","index","statusKey","WithdrawalPlatform","Model","WITHDRAWAL_STATUS","WithdrawalRequest","DepositPlatform","DepositTransaction","NetworkType"],"mappings":"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"}